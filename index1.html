<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Türkiye'den Kıbrıs'a Sipariş Getirme Hizmeti | Getir Kıbrıs</title>






    
    <meta name="description" content="Trendyol, Hepsiburada ve diğer Türkiye sitelerinden Kıbrıs'a kolayca ürün getirin. Hesaplayın ve sepetinize ekleyin.">
    <link rel="canonical" href="https://getirkibris.com" />
    <link rel="icon" href="/favicon.ico?v=2" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">

    <script>
        // Tailwind CSS Konfigürasyonu (index (22).html'deki borderRadius ile birleştirildi)
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5d3ebc',
                        secondary: '#ffd300'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    borderRadius: {
                        'button': '8px',
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9f9f9; /* index (22).html'deki daha açık gri tonu tercih edildi */
        }
        .copy-btn:active, .auth-button:active {
            transform: scale(0.95);
        }
        /* Animasyonlar (eski index.html'den korunmuştur) */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .hidden {
            display: none;
        }
       
    </style>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JL9P6BRZTD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JL9P6BRZTD');
</script>



</head>
<body class="bg-gray-50">

<div class="w-full max-w-screen-lg mx-auto relative min-h-screen pb-16">

    <header class="fixed top-0 w-full bg-white shadow-sm z-50 px-4 py-3 flex items-center">
        <div class="flex-1">
        </div>
        <div class="flex flex-col items-center">
            <img src="logom.png" alt="Getir Kıbrıs" class="h-12"> <a href="https://getirkibris.com/index.html" data-readdy="true"
                class="text-sm font-medium text-primary mt-1">Ana Sayfa</a>
        </div>
        <div class="flex-1 flex justify-end">
            <div id="auth-button" class="w-8 h-8 flex items-center justify-center">
                <button id="login-btn" class="text-xs text-primary font-medium cursor-pointer">
                    <i class="ri-google-fill ri-lg"></i>
                </button>
                <div id="profile-container" class="hidden">
                    <img id="profile-img" src="" alt="Profil" class="w-8 h-8 rounded-full cursor-pointer">
                </div>
            </div>
        </div>
    </header>

   <main class="pt-16 pb-20">
  <div class="relative w-full overflow-hidden mb-6" style="padding-top: 56.25%;">
    <iframe 
      class="absolute top-0 left-0 w-full h-full" 
      src="https://www.youtube.com/embed/YYNLzJJKTXs"
      title="YouTube video player" 
      frameborder="0" 
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
      referrerpolicy="strict-origin-when-cross-origin" 
      allowfullscreen>
    </iframe>

    <!-- Hafif mor transparan geçiş (videoyu boğmadan, mobilde görünürlüğü artırır) -->
    <div class="absolute inset-0 bg-gradient-to-t from-[#5b21b6]/25 via-transparent to-transparent pointer-events-none"></div>

    <!-- Alt kısmı biraz yumuşatmak için -->
    <div class="absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-[#5b21b6]/40 to-transparent pointer-events-none"></div>
  </div>
</main>

       <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 px-4 mb-8">
           <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 px-4 mb-8">
            <button id="open-selection-btn" class="bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
                <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
                    <i class="ri-calculator-line ri-xl text-primary"></i>
                </div>
                <span class="text-sm font-medium">Sipariş Ver / Hesapla</span>
            </button>

            <a href="sepet.html" id="cart-page-btn" class="relative bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
                <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
                    <i class="ri-shopping-cart-line ri-xl text-primary"></i>
                </div>
                <span class="text-sm font-medium">Sepetim</span>
                <span id="cart-badge" class="absolute bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden" style="top: 10px; right: 10px;">0</span>
            </a>
        </div>

        <div id="selection-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden px-4">
            <div class="bg-white rounded-xl p-6 w-full max-w-sm relative fade-in">
                <button id="close-selection-modal" class="absolute top-4 right-4 text-gray-400"><i class="ri-close-line ri-lg"></i></button>
                <h3 class="text-lg font-bold text-center mb-6 text-primary">Lütfen Seçim Yapın</h3>
                <div class="space-y-3">
                    <button id="btn-link-mode" class="w-full flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50 transition-all">
                        <i class="ri-links-line ri-xl text-blue-500"></i>
                        <div class="text-left"><p class="font-bold text-sm">Link ile Satın Al</p><p class="text-xs text-gray-500">Trendyol, Amazon vb.</p></div>
                    </button>
                    <button id="btn-cargo-mode" class="w-full flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50 transition-all text-left">
                        <i class="ri-truck-line ri-xl text-orange-500"></i>
                        <div><p class="font-bold text-sm">Eşya/Kargo Gönder</p><p class="text-xs text-gray-500">Buzdolabı, Koli, Çanta vb.</p></div>
                    </button>
                </div>
            </div>
        </div>

        <section id="cargo-calc-section" class="bg-white rounded-lg shadow-lg mx-auto p-6 mb-8 max-w-2xl fade-in hidden">
            <h2 class="text-xl font-semibold mb-4 text-primary">Kargo/Eşya Hesaplama</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Gönderim Yönü</label>
                    <select id="cargo-direction" class="w-full p-2 border rounded-md text-sm">
                        <option value="tr-kktc">Türkiye ➔ Kıbrıs</option>
                        <option value="kktc-tr">Kıbrıs ➔ Türkiye</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Eşya Adı (Ara/Seç)</label>
                    <input type="text" id="cargo-search" list="cargo-items-list" class="w-full p-2 border rounded-md" placeholder="Örn: Bulaşık Makinesi...">
                    <datalist id="cargo-items-list"></datalist>
                </div>
                <div id="cargo-result-box" class="hidden p-4 bg-primary/5 border border-primary/20 rounded-lg">
                    <div class="flex justify-between items-center">
                        <span class="text-sm font-medium text-gray-600">Taşıma Bedeli:</span>
                        <span id="cargo-final-price" class="text-xl font-bold text-primary">0 ₺</span>
                    </div>
                    <button id="add-cargo-btn" class="w-full mt-4 bg-primary text-white py-2 rounded-md font-semibold">Sepete Ekle</button>
                </div>
            </div>
        </section>

        <section id="calculator-section" class="bg-white rounded-lg shadow-lg mx-auto p-6 mb-8 max-w-2xl fade-in hidden">
            <h2 class="text-xl font-semibold mb-4 text-primary text-center">Ürün Bilgilerini Girin</h2>
            <form id="calculator-form" class="space-y-4">
                <div>
                    <label for="order-method" class="block text-sm font-medium text-gray-700 mb-1">Sipariş Yöntemi</label>
                    <select id="order-method" required class="w-full p-2 border border-gray-300 rounded-md text-sm">
                        <option value="service" selected>Ürünü benim yerime siz sipariş edin</option>
                        <option value="self">Ürünü ben alacağım, sadece kargo hizmeti</option>
                    </select>
                </div>
                <div>
                    <label for="product-link" class="block text-sm font-medium text-gray-700 mb-1">Ürün Linki</label>
                    <input type="url" id="product-link" required class="w-full p-2 border border-gray-300 rounded-md" placeholder="https://...">
                </div>
                <div>
                    <label for="product-price" class="block text-sm font-medium text-gray-700 mb-1">Ürün Fiyatı (₺)</label>
                    <input type="number" id="product-price" required class="w-full p-2 border border-gray-300 rounded-md" step="any">
                </div>
                <div>
                    <label for="product-category" class="block text-sm font-medium text-gray-700 mb-1">Kategori</label>
                    <select id="product-category" required class="w-full p-2 border border-gray-300 rounded-md text-sm">
                        <option value="" disabled selected>Kategori seçin</option>
                    </select>
                </div>
                <div id="calculation-result" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
                    <div class="flex justify-between font-bold text-primary pt-2 border-t border-gray-200">
                        <span>Toplam Maliyet:</span>
                        <span id="result-total">0 ₺</span>
                    </div>
                </div>
                <button type="submit" id="main-action-btn" class="w-full bg-primary text-white py-3 rounded-button font-semibold">Maliyeti Hesapla</button>
            </form>
        </section>
Mango kadın ve erkek giyim Kıbrıs, Mango ayakkabı ve aksesuar KKTC,
Mango moda ürünleri Kıbrıs, Mango KKTC alışveriş sitesi, Mango Kıbrıs hızlı kargo
            </span>
        </a>
     
        
        <!-- lacoste -->
        <a href="https://www.lacoste.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://images.seeklogo.com/logo-png/31/1/lacoste-logo-png_seeklogo-318446.png"
                 alt="lacoste" class="w-16 h-16 object-contain">
            <span class="hidden">
            Lacoste KKTC, Türkiye'den Kıbrıs'a Lacoste kargo, Lacoste Kıbrıs sipariş, KKTC Lacoste ürünleri,
Lacoste Kıbrıs teslimatı, Lacoste Türkiye’den gönderim, KKTC Lacoste fırsatları, Lacoste kampanya Kıbrıs,
Lacoste erkek ve kadın giyim Kıbrıs, Lacoste ayakkabı ve aksesuar KKTC,
Lacoste moda ürünleri Kıbrıs, Lacoste KKTC alışveriş sitesi, Lacoste Kıbrıs hızlı kargo
            </span>
        </a>
        
        <!-- bershka -->
        <a href="https://www.bershka.com.tr" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://1000logos.net/wp-content/uploads/2020/03/Bershka-Logo.png"
                 alt="bershka" class="w-16 h-16 object-contain">
            <span class="hidden">
             Bershka KKTC, Türkiye'den Kıbrıs'a Bershka kargo, Bershka Kıbrıs sipariş, KKTC Bershka ürünleri,
Bershka Kıbrıs teslimatı, Bershka Türkiye’den gönderim, KKTC Bershka fırsatları, Bershka kampanya Kıbrıs,
Bershka kadın ve erkek giyim Kıbrıs, Bershka ayakkabı ve aksesuarlar KKTC,
Bershka moda trendleri Kıbrıs, Bershka KKTC alışveriş sitesi, Bershka Kıbrıs hızlı kargo
            </span>
        </a>
        
        
        
        <!-- avva -->
        <a href="https://www.avva.com.tr" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://static.tildacdn.com/tild3339-3139-4733-b331-623033333733/avva.png"
                 alt="Decathlon" class="w-16 h-16 object-contain">
            <span class="hidden">
             Avva KKTC, Türkiye'den Kıbrıs'a Avva kargo, Avva Kıbrıs sipariş, KKTC Avva ürünleri,
Avva Kıbrıs teslimatı, Avva Türkiye’den gönderim, KKTC Avva fırsatları, Avva kampanya Kıbrıs,
Avva erkek giyim Kıbrıs, Avva gömlek ve tişört modelleri KKTC,
Avva pantolon ve ceket koleksiyonu Kıbrıs, Avva KKTC alışveriş sitesi, Avva Kıbrıs hızlı kargo
    </span>
        </a>

<!-- under -->
        <a href="https://www.underarmour.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://download.logo.wine/logo/Under_Armour/Under_Armour-Logo.wine.png"
                 alt="Underarmour" class="w-16 h-16 object-contain">
            <span class="hidden">
Under Armour KKTC, Türkiye'den Kıbrıs'a Under Armour kargo, Under Armour Kıbrıs sipariş, KKTC Under Armour ürünleri,
Under Armour Kıbrıs teslimatı, Under Armour Türkiye’den gönderim, KKTC Under Armour fırsatları, Under Armour kampanya Kıbrıs,
Under Armour spor giyim ve ayakkabı Kıbrıs, Under Armour kadın ve erkek ürünleri KKTC,
Under Armour performans ve spor koleksiyonu Kıbrıs, Under Armour KKTC alışveriş sitesi, Under Armour Kıbrıs hızlı kargo
            </span>
        </a>
        
<!-- drstore -->
        <a href="https://www.dr.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://upload.wikimedia.org/wikipedia/tr/5/52/D%26R_logo.jpg"
                 alt="Drstore" class="w-16 h-16 object-contain">
            <span class="hidden">
DR Store KKTC, Türkiye'den Kıbrıs'a DR Store kargo, DR Store Kıbrıs sipariş, KKTC DR Store ürünleri,
DR Store Kıbrıs teslimatı, DR Store Türkiye’den gönderim, KKTC DR Store fırsatları, DR Store kampanya Kıbrıs,
DR Store kadın ve erkek giyim Kıbrıs, DR Store ayakkabı ve aksesuar KKTC,
DR Store moda ürünleri Kıbrıs, DR Store KKTC alışveriş sitesi, DR Store Kıbrıs hızlı kargo
            </span>
        </a>

        
<!-- gap -->
        <a href="https://gap.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://logos-world.net/wp-content/uploads/2020/09/Gap-Logo-700x394.png"
                 alt="Gap" class="w-16 h-16 object-contain">
            <span class="hidden">
GAP KKTC, Türkiye'den Kıbrıs'a GAP kargo, GAP Kıbrıs sipariş, KKTC GAP ürünleri,
GAP Kıbrıs teslimatı, GAP Türkiye’den gönderim, KKTC GAP fırsatları, GAP kampanya Kıbrıs,
GAP kadın ve erkek giyim Kıbrıs, GAP ayakkabı ve aksesuar KKTC,
GAP moda ürünleri Kıbrıs, GAP KKTC alışveriş sitesi, GAP Kıbrıs hızlı kargo
            </span>
        </a>

<!-- adidas -->
        <a href="https://www.adidas.com.tr/tr" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://images.seeklogo.com/logo-png/16/2/adidas-logo-png_seeklogo-168370.png"
                 alt="Adidas" class="w-16 h-16 object-contain">
            <span class="hidden">
Adidas KKTC, Türkiye'den Kıbrıs'a Adidas kargo, Adidas Kıbrıs sipariş, KKTC Adidas ürünleri,
Adidas Kıbrıs teslimatı, Adidas Türkiye’den gönderim, KKTC Adidas fırsatları, Adidas kampanya Kıbrıs,
Adidas spor giyim ve ayakkabı Kıbrıs, Adidas kadın ve erkek ürünleri KKTC,
Adidas performans ve spor koleksiyonu Kıbrıs, Adidas KKTC alışveriş sitesi, Adidas Kıbrıs hızlı kargo
            </span>
        </a>

        
<!-- nike -->
        <a href="https://www.nike.com/tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://images.seeklogo.com/logo-png/9/1/nike-logo-png_seeklogo-99478.png"
                 alt="Nike" class="w-16 h-16 object-contain">
            <span class="hidden">
Nike KKTC, Türkiye'den Kıbrıs'a Nike kargo, Nike Kıbrıs sipariş, KKTC Nike ürünleri,
Nike Kıbrıs teslimatı, Nike Türkiye’den gönderim, KKTC Nike fırsatları, Nike kampanya Kıbrıs,
Nike spor giyim ve ayakkabı Kıbrıs, Nike kadın ve erkek ürünleri KKTC,
Nike performans ve spor koleksiyonu Kıbrıs, Nike KKTC alışveriş sitesi, Nike Kıbrıs hızlı kargo
            </span>
        </a>
        
        <!-- gant -->
        <a href="https://www.gant.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://images.seeklogo.com/logo-png/26/1/gant-logo-png_seeklogo-261630.png"
                 alt="Gant" class="w-16 h-16 object-contain">
            <span class="hidden">
GANT KKTC, Türkiye'den Kıbrıs'a GANT kargo, GANT Kıbrıs sipariş, KKTC GANT ürünleri,
GANT Kıbrıs teslimatı, GANT Türkiye’den gönderim, KKTC GANT fırsatları, GANT kampanya Kıbrıs,
GANT erkek ve kadın giyim Kıbrıs, GANT ayakkabı ve aksesuar KKTC,
GANT moda ürünleri Kıbrıs, GANT KKTC alışveriş sitesi, GANT Kıbrıs hızlı kargo
            </span>
        </a>
        
    <!-- hummel -->
        <a href="https://hummel.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://images.seeklogo.com/logo-png/16/1/hummel-logo-png_seeklogo-168403.png"
                 alt="Hummel" class="w-16 h-16 object-contain">
            <span class="hidden">
             Hummel KKTC, Türkiye'den Kıbrıs'a Hummel kargo, Hummel Kıbrıs sipariş, KKTC Hummel ürünleri,
Hummel Kıbrıs teslimatı, Hummel Türkiye’den gönderim, KKTC Hummel fırsatları, Hummel kampanya Kıbrıs,
Hummel spor giyim ve ayakkabı Kıbrıs, Hummel kadın ve erkek ürünleri KKTC,
Hummel moda ve spor koleksiyonu Kıbrıs, Hummel KKTC alışveriş sitesi, Hummel Kıbrıs hızlı kargo
            </span>
        </a>

        
        
        <!-- columbia -->
        <a href="https://www.columbia.com.tr" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://www.logo.wine/a/logo/Columbia_Sportswear/Columbia_Sportswear-Logo.wine.svg"
                 alt="columbia" class="w-16 h-16 object-contain">
            <span class="hidden">
              Columbia KKTC, Türkiye'den Kıbrıs'a Columbia kargo, Columbia Kıbrıs sipariş, KKTC Columbia ürünleri,
Columbia Kıbrıs teslimatı, Columbia Türkiye’den gönderim, KKTC Columbia fırsatları, Columbia kampanya Kıbrıs,
Columbia mont ve outdoor ürünleri KKTC, Columbia ayakkabı Kıbrıs, Columbia spor giyim Kıbrıs,
Columbia KKTC alışveriş sitesi, Columbia Kıbrıs hızlı kargo
            </span>
        </a>

        
<!-- ebebek -->
        <a href="https://www.e-bebek.com" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://worldef.com/wp-content/uploads/2023/08/ebebek-logo-.-1024x1024-1.png"
                 alt="Ebebek" class="w-16 h-16 object-contain">
            <span class="hidden">
               E-bebek KKTC, Türkiye'den Kıbrıs'a E-bebek kargo, E-bebek Kıbrıs sipariş, KKTC E-bebek ürünleri,
E-bebek Kıbrıs teslimatı, E-bebek Türkiye’den gönderim, KKTC E-bebek fırsatları, E-bebek kampanya Kıbrıs,
E-bebek bebek arabası Kıbrıs, E-bebek mama ve bakım ürünleri KKTC,
E-bebek bebek giyim Kıbrıs, E-bebek KKTC alışveriş sitesi, E-bebek Kıbrıs hızlı kargo
            </span>
        </a>
        
        <!-- Boyner -->
        <a href="https://www.boyner.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Boyner_Logo.jpg/1200px-Boyner_Logo.jpg"
                 alt="Boyner" class="w-16 h-16 object-contain">
            <span class="hidden">
               Boyner KKTC, Türkiye'den Kıbrıs'a Boyner kargo, Boyner Kıbrıs sipariş, KKTC Boyner ürünleri,
Boyner Kıbrıs teslimatı, Boyner Türkiye’den gönderim, KKTC Boyner fırsatları, Boyner kampanya Kıbrıs,
Boyner ürün fiyatları Kıbrıs, Boyner KKTC alışveriş sitesi, Boyner Kıbrıs hızlı kargo
            </span>
        </a>
        
        <!-- Decathlon -->
        <a href="https://www.decathlon.com.tr/" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://1000logos.net/wp-content/uploads/2020/03/Decathlon-Logo-768x431.png"
                 alt="Decathlon" class="w-16 h-16 object-contain">
            <span class="hidden">
               Decathlon KKTC, Türkiye'den Kıbrıs'a Decathlon kargo, Decathlon Kıbrıs sipariş, KKTC Decathlon ürünleri,
Decathlon Kıbrıs teslimatı, Decathlon Türkiye’den gönderim, KKTC Decathlon fırsatları, Decathlon kampanya Kıbrıs,
Decathlon ürün fiyatları Kıbrıs, Decathlon KKTC alışveriş sitesi, Decathlon Kıbrıs hızlı kargo
            </span>
        </a>
        
        <!-- ÇiçekSepeti -->
        <a href="https://www.ciceksepeti.com" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://1000logos.net/wp-content/uploads/2022/02/Ciceksepeti-Logo.jpg"
                 alt="ÇiçekSepeti" class="w-16 h-16 object-contain">
            <span class="hidden">
                ÇiçekSepeti Kıbrıs, Türkiye'den Kıbrıs'a ÇiçekSepeti kargo, ÇiçekSepeti Kıbrıs sipariş, Kıbrıs ÇiçekSepeti ürünleri,
                ÇiçekSepeti Kıbrıs teslim, ÇiçekSepeti Türkiye’den gönderim, Kıbrıs ÇiçekSepeti fırsatları, ÇiçekSepeti kampanya Kıbrıs,
                ÇiçekSepeti ürün fiyatları Kıbrıs, ÇiçekSepeti Kıbrıs alışveriş sitesi, ÇiçekSepeti Kıbrıs hızlı kargo
            </span>
        </a>

        <!-- GittiGidiyor -->
        <a href="https://www.gittigidiyor.com" target="_blank"
           class="bg-white rounded-lg shadow-sm p-3 h-20 flex items-center justify-center cursor-pointer border border-gray-100">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQBRDMxa35X5jhducAD-rgHdlJ9Nxw0O4NSFw&s"
                 alt="GittiGidiyor" class="w-16 h-16 object-contain">
            <span class="hidden">
                GittiGidiyor Kıbrıs, Türkiye'den Kıbrıs'a GittiGidiyor kargo, GittiGidiyor Kıbrıs alışveriş, GittiGidiyor Kıbrıs sipariş,
                Kıbrıs GittiGidiyor ürünleri, GittiGidiyor Kıbrıs teslim, GittiGidiyor Türkiye’den gönderim, Kıbrıs GittiGidiyor fırsatları,
                GittiGidiyor kampanya Kıbrıs, GittiGidiyor ürün fiyatları Kıbrıs, GittiGidiyor Kıbrıs alışveriş sitesi, GittiGidiyor Kıbrıs hızlı kargo
            </span>
        </a>

    </div>
</div>


       <div class="mt-8 bg-gray-50 p-6 rounded-xl shadow-sm">
  <h3 class="text-xl font-semibold mb-3 text-gray-800">Sipariş Yöntemleri</h3>
  <p class="text-gray-700 mb-4">
    Getir Kıbrıs’ta iki farklı sipariş yöntemiyle hizmet veriyoruz. Aşağıdaki seçeneklerden hangisi size uygunsa onu tercih edebilirsiniz:
  </p>

  <div class="space-y-6">
    <div class="bg-white p-4 rounded-lg shadow">
      <h4 class="font-semibold text-lg text-indigo-700 mb-2">1️⃣ Ürünü Benim Yerime Sipariş Edin</h4>
      <p class="text-gray-700">
        Ürünü sizin yerinize biz sipariş ediyoruz. 
        Ödemeyi bize yapıyorsunuz, tüm süreci biz takip ediyoruz.
        Ürün elinize teslim edilene kadar Getir Kıbrıs güvencesindesiniz.
      </p>
    </div>
// MODAL KONTROLLERİ
    const selectionModal = document.getElementById('selection-modal');
    const openSelectionBtn = document.getElementById('open-selection-btn');
    const cargoSection = document.getElementById('cargo-calc-section');
    const cargoSearchInput = document.getElementById('cargo-search');

    // Modalı Aç/Kapat
    openSelectionBtn.onclick = () => selectionModal.classList.remove('hidden');
    document.getElementById('close-selection-modal').onclick = () => selectionModal.classList.add('hidden');

    // Link Modunu Seç
    document.getElementById('btn-link-mode').onclick = () => {
        selectionModal.classList.add('hidden');
        cargoSection.classList.add('hidden');
        calculatorSection.classList.remove('hidden');
        calculatorSection.scrollIntoView({ behavior: 'smooth' });
    };

    // Kargo/Eşya Modunu Seç
    document.getElementById('btn-cargo-mode').onclick = () => {
        selectionModal.classList.add('hidden');
        calculatorSection.classList.add('hidden');
        cargoSection.classList.remove('hidden');
        cargoSection.scrollIntoView({ behavior: 'smooth' });
    };

    // KARGO FİYAT LİSTESİ (Admin'den gelecek şekilde kurgulandı)
  // KARGO FİYAT LİSTESİ VE FONKSİYONLARI
    let cargoPrices = [
        { name: "Bulaşık Makinesi", price: 1500 },
        { name: "Buzdolabı", price: 2500 },
        { name: "Çamaşır Makinesi", price: 1400 },
        { name: "Koli (Küçük)", price: 150 },
        { name: "Koli (Orta)", price: 300 },
        { name: "Koli (Büyük)", price: 500 },
        { name: "Televizyon (55 inç)", price: 1200 },
        { name: "Motosiklet", price: 5000 },
        { name: "Kombi", price: 1000 },
        { name: "Valiz/Çanta", price: 250 }
    ];

    // Datalist'i doldur
    const datalist = document.getElementById('cargo-items-list');
    cargoPrices.forEach(item => {
        let opt = document.createElement('option');
        opt.value = item.name;
        datalist.appendChild(opt);
    });

    // Arama ve Fiyat Gösterme
    cargoSearchInput.oninput = () => {
        const found = cargoPrices.find(x => x.name.toLowerCase() === cargoSearchInput.value.toLowerCase());
        const resultBox = document.getElementById('cargo-result-box');
        if(found) {
            document.getElementById('cargo-final-price').textContent = found.price + " ₺";
            resultBox.classList.remove('hidden');
        } else {
            resultBox.classList.add('hidden');
        }
    };

    // KARGOYU SEPETE EKLEME (FIREBASE)
    const addCargoBtn = document.getElementById('add-cargo-btn');
    addCargoBtn.onclick = async () => {
        const user = auth.currentUser;
        if (!user) {
            window.showAuthRequiredModal();
            return;
        }

        const itemName = cargoSearchInput.value;
        const direction = document.getElementById('cargo-direction').value;
        const foundItem = cargoPrices.find(x => x.name.toLowerCase() === itemName.toLowerCase());

        if (!foundItem) {
            showToast('Lütfen listeden bir eşya seçin.', 'error');
            return;
        }

        const cargoData = {
            productLink: "Kargo/Eşya Taşıma Hizmeti",
            productPrice: foundItem.price,
            category: "Lojistik",
            direction: direction === 'tr-kktc' ? "Türkiye -> Kıbrıs" : "Kıbrıs -> Türkiye",
            itemName: itemName,
            orderMethod: "cargo_service", // Sepet sayfasında ayırmak için önemli
            quantity: 1,
            addedAt: new Date()
        };

        try {
            addCargoBtn.disabled = true;
            addCargoBtn.innerHTML = '<i class="ri-loader-4-line animate-spin"></i> Ekleniyor...';
            
            await addDoc(collection(db, 'users', user.uid, 'cart'), cargoData);
            
            showToast('Taşıma hizmeti sepete eklendi!');
            cargoSearchInput.value = '';
            document.getElementById('cargo-result-box').classList.add('hidden');
            
            // Sepet sayfasına yönlendir
            setTimeout(() => { window.location.href = 'sepet.html'; }, 800);
            
        } catch (error) {
            console.error("Hata:", error);
            showToast('Hata oluştu: ' + error.message, 'error');
        } finally {
            addCargoBtn.disabled = false;
            addCargoBtn.textContent = 'Sepete Ekle';
        }
    };
            resultBox.classList.remove('hidden');
        } else {
            resultBox.classList.add('hidden');
        }
    };
        <p class="text-sm text-gray-700">
          <strong>Adres:</strong> Aydın, Nazilli, Bozyurt Mah. Kanal Üstü 3281 sk. No:3 <br>
          <strong>Telefon:</strong> +90 547 190 19 88 <br>
            <strong>Ad Soyad:</strong> Emrah Kutlu
        </p>
      </div>

      <p class="text-gray-700 mt-3">
        Ürün bu adrese ulaştığında biz sizin adınıza teslim alır, Kıbrıs’a kargo ile gönderimini sağlarız.
      </p>
    </div>
  </div>
</div>



    
            
            <div class="mt-6">
                <h4 class="text-lg font-semibold mb-4">Kıbrıs Depo Adresimiz</h4>
                <div class="space-y-4">
                    <div class="flex items-start gap-3">
                        <div class="w-6 h-6 flex items-center justify-center text-primary">
                            <i class="ri-map-pin-2-line"></i>
                        </div>
                        <div>
                            <h5 class="font-medium text-gray-800">Adres</h5>
                            <p class="text-sm text-gray-600">Alayköy Sanayi Bölgesi 1.Etap, 3.Cadde, 8.Sokak, Lefkoşa, KKTC   Moben Trading</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-6 h-6 flex items-center justify-center text-primary">
                            <i class="ri-phone-line"></i>
                        </div>
                        <div>
                            <h5 class="font-medium text-gray-800">Telefon</h5>
                            <p class="text-sm text-gray-600">+90 533 860 71 82</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-6 h-6 flex items-center justify-center text-primary">
                            <i class="ri-mail-line"></i>
                        </div>
                        <div>
                            <h5 class="font-medium text-gray-800">E-posta</h5>
                            <p class="text-sm text-gray-600">info@getirkibris.com</p>
                        </div>
                    </div>
                </div>
                <div class="mt-6 relative">
                    <div class="absolute top-4 left-4 z-10 bg-white px-4 py-2 rounded-lg shadow-md">
                        <h5 class="font-medium text-gray-800">Kıbrıs Adresimiz</h5>
                    </div>
                    <div class="w-full h-64 sm:h-80 lg:h-96 rounded-lg overflow-hidden">
                        <a href="https://maps.app.goo.gl/8kmoWBNWWsJrxPDz7" data-readdy="true" target="_blank">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Lefko%C5%9Fa%2C_KKTC.svg/1200px-Lefko%C5%9Fa%2C_KKTC.svg.png" alt="Harita"
                                class="w-full h-full object-cover">
                        </a>
                    </div>
                </div>
                <div class="mt-8 space-y-6">
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Alışveriş İşlemleri</h4>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="ri-shopping-cart-line text-primary"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-800">Sipariş Verme</h5>
                                        <p class="text-sm text-gray-600 mt-1">Türkiye'deki herhangi bir e-ticaret
                                            sitesinden ürün seçin, sipariş formunu doldurun ve ödemenizi yapın.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="ri-calculator-line text-primary"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-800">Maliyet Hesaplama</h5>
                                        <p class="text-sm text-gray-600 mt-1">Ürün fiyatı ve kategorisine göre toplam
                                            maliyeti hesaplayın, ek ücretleri önceden öğrenin.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                      <h4 class="text-lg font-semibold mb-4">Teslimat ve Takip</h4>
<div class="grid grid-cols-1 gap-4">
    
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
            <div
                class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                <i class="ri-truck-line text-primary"></i>
            </div>
            <div>
                <h5 class="font-medium text-gray-800">Kargo Takibi</h5>
                <p class="text-sm text-gray-600 mt-1">Siparişinizin durumunu anlık olarak
                    takip edin, teslimat sürecini kontrol edin.</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
            <div
                class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                <i class="ri-time-line text-primary"></i> 
            </div>
            <div>
                <h5 class="font-medium text-gray-800">Teslimat Süresi</h5>
                <p class="text-sm text-gray-600 mt-1">Ürün, online alışveriş sitelerinden Türkiye depomuza ulaştıktan sonra 10 iş günü içerisinde size teslim edilir.</p>
            </div>
        </div>
    </div>
    
    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
            <div
                class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                <i class="ri-map-pin-line text-primary"></i>
            </div>
            <div>
                <h5 class="font-medium text-gray-800">Teslimat Seçenekleri</h5>
                <p class="text-sm text-gray-600 mt-1">Depodan teslim veya adrese teslimat
                    seçeneklerinden size uygun olanı seçin.</p>
            </div>
        </div>
    </div>
    
</div>
                        <h4 class="text-lg font-semibold mb-4">Müşteri Hizmetleri</h4>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="ri-customer-service-line text-primary"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-800">7/24 Destek</h5>
                                        <p class="text-sm text-gray-600 mt-1">WhatsApp üzerinden bize ulaşın,
                                            sorularınızı yanıtlayalım, sorunlarınıza çözüm bulalım.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                                <div class="flex items-start gap-4">
                                    <div
                                        class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="ri-file-list-3-line text-primary"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-800">Sipariş Geçmişi</h5>
                                        <p class="text-sm text-gray-600 mt-1">Tüm siparişlerinizi görüntüleyin,
                                            geçmiş alışverişlerinizi kontrol edin.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section class="px-4 py-6 text-center">
            <h1 class="text-2xl sm:text-4xl font-bold text-primary mb-4">Türkiye’den Kıbrıs’a Ürün Getirme Hizmeti</h1>
            <p class="text-lg text-gray-700">
                Getir Kıbrıs, Türkiye'deki online alışveriş sitelerinden verdiğiniz siparişleri sizin için Kuzey Kıbrıs’a ulaştırır.
                Trendyol, Hepsiburada, N11, Amazon gibi sitelerden aldığınız ürünleri uygun fiyatlarla teslim alırsınız.
            </p>
        </section>
    </main>

<a href="https://wa.me/905471901988" target="_blank" data-readdy="true"
   class="fixed bottom-20 right-4 z-50 bg-[#25D366] rounded-full shadow-lg flex items-center justify-center hover:bg-[#20bd5a] transition-colors p-6">
   <i class="ri-whatsapp-line ri-xl text-white"></i>
</a>




  <div class="mt-8 px-4 pb-20 text-center">
    <div class="space-x-4">
        <a href="gizlilik-politikasi.html" class="text-xs text-gray-600 hover:text-primary">Gizlilik Politikası</a>
        <a href="kullanim-sartlari.html" class="text-xs text-gray-600 hover:text-primary">Kullanım Şartları</a>
        <a href="sss.html" class="text-xs text-gray-600 hover:text-primary">S.S.S.</a>
    </div>
</div>

    <div id="login-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
        <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 relative fade-in">
            <button id="close-login-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i class="ri-close-line ri-lg"></i></button>
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Hoş Geldiniz!</h3>
                <p class="text-sm text-gray-600 mt-1">Hizmetlerimizi kullanmak için giriş yapın.</p>
            </div>
            <button id="google-login-btn" class="w-full flex items-center justify-center gap-3 border border-gray-300 rounded-button py-3 font-semibold text-gray-700 hover:bg-gray-50 transition-colors">
                <i class="ri-google-fill ri-lg text-red-500"></i>
                <span>Google ile Giriş Yap</span>
            </button>
        </div>
    </div>

    <div id="profile-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
        <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 relative fade-in">
            <h3 class="text-2xl font-bold text-gray-800 text-center mb-2">Profilinizi Tamamlayın</h3>
            <p class="text-sm text-gray-600 mt-1 text-center mb-6">Size daha iyi hizmet verebilmemiz için bu bilgilere ihtiyacımız var.</p>
            <form id="profile-form" class="space-y-4">
                <div>
                    <label for="full-name-input" class="block text-sm font-medium text-gray-700 mb-1">Ad Soyad <span class="text-red-500">*</span></label>
                    <input type="text" id="full-name-input" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50">
                </div>
                <div>
                    <label for="phone-input" class="block text-sm font-medium text-gray-700 mb-1">Telefon Numarası <span class="text-red-500">*</span></label>
                    <input type="tel" id="phone-input" required class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="+90 5XX XXX XX XX">
                </div>
                <div>
                    <label for="address-input" class="block text-sm font-medium text-gray-700 mb-1">Varsayılan Teslimat Adresi <span class="text-red-500">*</span></label>
                    <textarea id="address-input" required rows="3" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="Tam adresinizi girin (örn: Cadde, No, Daire, Şehir)"></textarea>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-3 rounded-button font-semibold hover:bg-primary/90 transition-colors">Profili Kaydet</button>
            </form>
        </div>
    </div>

    <div id="auth-required-modal" class="fixed inset-0 bg-black/60 flex items-center justify-center z-[100] hidden">
        <div class="bg-white rounded-lg p-8 w-full max-w-sm m-4 text-center fade-in">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="ri-lock-line ri-2x text-red-500"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800">Giriş Gerekli</h3>
            <p class="text-sm text-gray-600 mt-2 mb-6">Bu özelliği kullanmak için lütfen giriş yapın.</p>
            <div class="space-y-2">
                <button id="auth-modal-login-btn" class="w-full bg-primary text-white py-2 rounded-button font-medium hover:bg-primary/90 transition-colors">Giriş Yap</button>
                <button id="close-auth-modal" class="w-full text-gray-600 py-2 font-medium hover:bg-gray-100 rounded-button transition-colors">Kapat</button>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-24 right-6 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-xl opacity-0 transition-all duration-300 z-[110] transform translate-y-4">
        <span id="toast-message"></span>
    </div>

</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCHms5Y5x-KOu3Y43FrfRoljmW_4m3H4yY",
        authDomain: "kibris-6b4f7.firebaseapp.com",
        projectId: "kibris-6b4f7",
        storageBucket: "kibris-6b4f7.firebasestorage.app",
        messagingSenderId: "141262926171",
        appId: "1:141262926171:web:07226845e51d4bbc0dea7e",
        measurementId: "G-JL9P6BRZTD"
    };
    
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    let cartUnsubscribe = null;

    // --- GLOBAL SETTINGS ---
    let pricingSettings = {};
    const DEFAULT_SETTINGS = {
        categoryRates: { 'furniture': 0.70, 'clothing': 0.45, 'cosmetics': 0.70, 'stationery': 0.40 },
        cityFees: { 'Lefkoşa': 200, 'Girne': 350, 'Gazimağusa': 300, 'Güzelyurt': 400, 'İskele': 450 }
    };

    // --- DOM Elements ---
    const loginBtn = document.getElementById('login-btn');
    const profileContainer = document.getElementById('profile-container');
    const profileImg = document.getElementById('profile-img');
    const loginModal = document.getElementById('login-modal');
    const closeLoginModal = document.getElementById('close-login-modal');
    const googleLoginBtn = document.getElementById('google-login-btn');
    const authRequiredModal = document.getElementById('auth-required-modal');
    const closeAuthModal = document.getElementById('close-auth-modal');
    const authModalLoginBtn = document.getElementById('auth-modal-login-btn');
    const profileModal = document.getElementById('profile-modal');
    const profileForm = document.getElementById('profile-form');
    const cartBadge = document.getElementById('cart-badge');

    // ---- SETTINGS LOADER ----
    async function loadPricingSettings() {
        try {
            const docRef = doc(db, "settings", "pricing");
            const docSnap = await getDoc(docRef);
            if (docSnap.exists() && docSnap.data().categoryRates) {
                pricingSettings = docSnap.data();
                console.log("Fiyat ayarları başarıyla yüklendi.");
            } else {
                pricingSettings = DEFAULT_SETTINGS;
                console.log("Fiyat ayarları bulunamadı, varsayılanlar kullanılıyor.");
            }
        } catch (error) {
            console.error("Fiyat ayarları yüklenirken hata oluştu:", error);
            pricingSettings = DEFAULT_SETTINGS;
        }
        populateCategoryDropdown();
    }

    function populateCategoryDropdown() {
        const categorySelect = document.getElementById('product-category');
        if (!categorySelect || !pricingSettings.categoryRates) return;
        
        categorySelect.innerHTML = '<option value="" disabled selected>Kategori seçin</option>';
        
        const categoryDisplayNames = {
            furniture: "Mobilya & Ev Eşyası",
            clothing: "Giyim & Ayakkabı",
            cosmetics: "Kozmetik",
            stationery: "Kırtasiye & Kitap"
        };

        for (const categoryKey in pricingSettings.categoryRates) {
            const option = document.createElement('option');
            option.value = categoryKey;
            option.textContent = categoryDisplayNames[categoryKey] || categoryKey;
            categorySelect.appendChild(option);
        }
    }


    // ---- AUTHENTICATION ---- //
    onAuthStateChanged(auth, user => {
        updateAuthUI(user);
        if (user) {
            checkUserProfile(user);
            listenToCart(user.uid);
        } else {
            if (cartUnsubscribe) cartUnsubscribe();
            cartBadge.classList.add('hidden');
        }
    });

    function updateAuthUI(user) {
        if (user) {
            loginBtn.classList.add('hidden');
            profileContainer.classList.remove('hidden');
            profileImg.src = user.photoURL || 'https://placehold.co/40x40/cccccc/000000?text=P';
            profileImg.alt = user.displayName || 'Profil';
        } else {
            loginBtn.classList.remove('hidden');
            profileContainer.classList.add('hidden');
        }
    }
    
    loginBtn.addEventListener('click', () => loginModal.classList.remove('hidden'));
    closeLoginModal.addEventListener('click', () => loginModal.classList.add('hidden'));
    profileContainer.addEventListener('click', async () => {
        if (confirm('Çıkış yapmak istediğinize emin misiniz?')) {
            await signOut(auth);
            showToast('Başarıyla çıkış yapıldı.');
        }
    });
    
    googleLoginBtn.addEventListener('click', async () => {
        const provider = new GoogleAuthProvider();
        try {
            await signInWithPopup(auth, provider);
            loginModal.classList.add('hidden');
            showToast('Giriş başarılı!');
        } catch (error) {
            console.error("Google ile giriş hatası:", error);
            showToast('Giriş sırasında bir hata oluştu.', 'error');
        }
    });

    window.showAuthRequiredModal = () => authRequiredModal.classList.remove('hidden');
    closeAuthModal.addEventListener('click', () => authRequiredModal.classList.add('hidden'));
    authModalLoginBtn.addEventListener('click', () => {
        authRequiredModal.classList.add('hidden');
        loginModal.classList.remove('hidden');
    });

    // ---- USER PROFILE ---- //
    async function checkUserProfile(user) {
        const userDocRef = doc(db, "users", user.uid);
        const userDocSnap = await getDoc(userDocRef);
        if (!userDocSnap.exists() || !userDocSnap.data().isProfileComplete) {
            profileModal.classList.remove('hidden');
            document.getElementById('full-name-input').value = user.displayName || '';
        }
    }
    
    profileForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const user = auth.currentUser;
        if (!user) return;
        const userData = {
            email: user.email,
            displayName: user.displayName,
            photoURL: user.photoURL,
            fullName: document.getElementById('full-name-input').value,
            phone: document.getElementById('phone-input').value,
            address: document.getElementById('address-input').value,
            isProfileComplete: true,
        };
        try {
            await setDoc(doc(db, "users", user.uid), userData, { merge: true });
            profileModal.classList.add('hidden');
            showToast('Profiliniz başarıyla güncellendi!');
        } catch (error) {
            console.error("Profil kaydetme hatası:", error);
            showToast('Profil kaydedilirken bir hata oluştu.', 'error');
        }
    });
    
    // ---- CALCULATOR & CART ---- //
    const calculatorSection = document.getElementById('calculator-section');
    const calculatorForm = document.getElementById('calculator-form');
    const mainActionBtn = document.getElementById('main-action-btn');
    const calculationResult = document.getElementById('calculation-result');

    const formInputs = calculatorForm.querySelectorAll('input, select');
    formInputs.forEach(input => input.addEventListener('input', resetCalculatorState));

    // Calculate butonu tıklandığında hesaplama bölümünü görünür yap
    const calculateBtn = document.getElementById('calculate-btn'); // ID düzeltildi
    calculateBtn.addEventListener('click', () => {
        calculatorSection.classList.remove('hidden');
        calculatorSection.scrollIntoView({ behavior: 'smooth' });
        calculatorForm.reset(); // Formu sıfırla
        resetCalculatorState(); // Butonu Hesapla'ya getir
    });


    function resetCalculatorState() {
        mainActionBtn.innerHTML = `<i class="ri-calculator-line"></i><span>Maliyeti Hesapla</span>`;
        calculationResult.classList.add('hidden');
    }
    
    calculatorForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const buttonText = mainActionBtn.textContent.trim();

        if (buttonText === 'Maliyeti Hesapla') {
            handleCalculation();
        } else if (buttonText === 'Sepete Ekle') {
            await handleAddToCart();
        }
    });

    function handleCalculation() {
        const price = parseFloat(document.getElementById('product-price').value);
        const category = document.getElementById('product-category').value;
        const orderMethod = document.getElementById('order-method').value;
        const productLink = document.getElementById('product-link').value.trim();

        if (isNaN(price) || price <= 0 || !category || !productLink) {
            showToast('Lütfen tüm zorunlu alanları doğru doldurun.', 'error');
            return;
        }

        const categoryRates = pricingSettings.categoryRates || {};
        const categoryFee = price * (categoryRates[category] || 0);
        let total = (orderMethod === 'self') ? categoryFee : price + categoryFee;
        
        document.getElementById('result-price-label').textContent = orderMethod === 'self' ? 'Ürün Fiyatı (Size Ait):' : 'Ürün Fiyatı:';
        document.getElementById('result-price').textContent = `${price.toFixed(2)} ₺`;
        document.getElementById('result-category-fee').textContent = `${categoryFee.toFixed(2)} ₺`;
        document.getElementById('result-total').textContent = `${total.toFixed(2)} ₺`;
        
        calculationResult.classList.remove('hidden');
        mainActionBtn.innerHTML = `<i class="ri-shopping-cart-add-line"></i><span>Sepete Ekle</span>`;
    }

    async function handleAddToCart() {
        const user = auth.currentUser;
        if (!user) {
            window.showAuthRequiredModal();
            return;
        }

        const productData = {
            productLink: document.getElementById('product-link').value,
            productPrice: parseFloat(document.getElementById('product-price').value),
            category: document.getElementById('product-category').value,
            orderMethod: document.getElementById('order-method').value,
            quantity: 1,
            addedAt: new Date() // Date objesi olarak eklendi, Firebase'e gönderirken otomatik Timestamp'a çevrilir
        };

        try {
            await addDoc(collection(db, 'users', user.uid, 'cart'), productData);
            showToast('Ürün başarıyla sepete eklendi!');
            calculatorForm.reset();
            resetCalculatorState();
            window.location.href = 'https://getirkibris.com/sepet.html'; 
        } catch (error) {
            console.error("Sepete ekleme hatası:", error);
            showToast('Ürün sepete eklenirken bir hata oluştu: ' + error.message, 'error');
        }
    }
    
    function listenToCart(userId) {
        if (cartUnsubscribe) cartUnsubscribe();
        const cartRef = collection(db, 'users', userId, 'cart');
        cartUnsubscribe = onSnapshot(cartRef, (snapshot) => {
            const itemCount = snapshot.size;
            cartBadge.textContent = itemCount;
            cartBadge.classList.toggle('hidden', itemCount === 0);
        });
    }

    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        toastMessage.textContent = message;
        toast.className = 'fixed bottom-24 right-6 text-white px-5 py-3 rounded-lg shadow-xl transition-all duration-300 z-[110] transform';
        toast.classList.add(type === 'error' ? 'bg-red-500' : 'bg-gray-800');
        toast.classList.remove('opacity-0', 'translate-y-4');
        toast.classList.add('opacity-100', 'translate-y-0');
        setTimeout(() => {
            toast.classList.remove('opacity-100', 'translate-y-0');
            toast.classList.add('opacity-0', 'translate-y-4');
        }, 3000);
    }
    
    // Sayfa yüklendiğinde ayarları çek
    loadPricingSettings();

</script>

</body>
</html>





































































