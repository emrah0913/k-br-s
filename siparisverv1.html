<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Getir Kıbrıs</title>
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#5d3ebc',
            secondary: '#ffd300'
          },
          borderRadius: {
            'none': '0px',
            'sm': '4px',
            DEFAULT: '8px',
            'md': '12px',
            'lg': '16px',
            'xl': '20px',
            '2xl': '24px',
            '3xl': '32px',
            'full': '9999px',
            'button': '8px'
          }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- Sipariş formu ve diğer HTML kodlarınız korunmuştur -->

  <form id="calculator-form">
    <!-- Form alanları buraya gelecek -->
    <button type="submit" id="submit-btn" class="bg-primary text-white py-3 rounded-button font-medium hover:bg-primary/90 transition-colors cursor-pointer">
      Hesapla
    </button>
  </form>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCHms5Y5x-KOu3Y43FrfRoljmW_4m3H4yY",
      authDomain: "kibris-6b4f7.firebaseapp.com",
      projectId: "kibris-6b4f7",
      storageBucket: "kibris-6b4f7.appspot.com",
      messagingSenderId: "141262926171",
      appId: "1:141262926171:web:07226845e51d4bbc0dea7e",
      measurementId: "G-JL9P6BRZTD"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let isLoggedIn = false;
    let step = 1;
    auth.onAuthStateChanged(user => {
      isLoggedIn = !!user;
    });

    const form = document.getElementById('calculator-form');
    const submitBtn = document.getElementById('submit-btn');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      if (!isLoggedIn) {
        alert("Lütfen giriş yapınız.");
        return;
      }

      if (step === 1) {
        // Hesaplama işlemi
        // ... hesaplama kodları buraya gelecek ...
        submitBtn.textContent = "Onayla";
        step = 2;
      } else {
        // Firebase'e veri kaydet
        // ... Firestore veri ekleme kodu ...
        alert("Sipariş başarıyla kaydedildi!");
        submitBtn.textContent = "Hesapla";
        step = 1;
        form.reset();
      }
    });
  </script>
</body>
</html>
