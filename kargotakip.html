<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getir Kıbrıs - Kargo Takip</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>
tailwind.config={
    theme:{
        extend:{
            colors:{
                primary:'#5d3ebc',
                secondary:'#ffd300'
            },
            borderRadius:{
                'none':'0px',
                'sm':'4px',
                DEFAULT:'8px',
                'md':'12px',
                'lg':'16px',
                'xl':'20px',
                '2xl':'24px',
                '3xl':'32px',
                'full':'9999px',
                'button':'8px'
            }
        }
    }
}
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
/* Remove default Remixicon content as we define it per icon */
:where([class^="ri-"])::before { content: none; }

body {
    font-family: 'Inter', sans-serif;
    background-color: #f9f9f9;
}
.copy-btn:active {
    transform: scale(0.95);
}
/* Progress bar dot styling */
.progress-dot {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: #e5e7eb; /* Gray for inactive */
    border-radius: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: background-color 0.3s ease-in-out;
}
.progress-dot.active {
    background-color: #5d3ebc; /* Primary color for active */
}
.progress-line {
    position: absolute;
    height: 2px;
    background-color: #e5e7eb; /* Gray for inactive */
    top: 50%;
    transform: translateY(-50%);
    transition: background-color 0.3s ease-in-out;
}
.progress-line.active {
    background-color: #5d3ebc; /* Primary color for active */
}
</style>
</head>
<body class="bg-gray-50">
<div class="w-[375px] mx-auto relative min-h-screen pb-16">
    <header class="fixed top-0 w-full bg-white shadow-sm z-50">
        <div class="px-4 py-2 flex justify-between items-center">
            <div class="w-8"></div>
            <div class="flex flex-col items-center">
                <img src="https://static.readdy.ai/image/d4cf8783f5bb2724d5eb1b66ee82374b/8de9178d5e8d147b21dbfa093538290a.png" alt="Getir Kıbrıs" class="h-12">
                <h1 class="text-lg font-bold text-primary mt-1">Kargo Takip Merkezi</h1>
            </div>
            <div id="auth-button" class="w-8 h-8 flex items-center justify-center">
                <button id="login-btn" class="text-xs text-primary font-medium cursor-pointer">
                    <i class="ri-google-fill ri-lg"></i>
                </button>
                <div id="profile-container" class="hidden">
                    <img id="profile-img" src="" alt="Profil" class="w-8 h-8 rounded-full cursor-pointer">
                </div>
            </div>
        </div>
    </header>

    <main class="pt-20 pb-20">
        <div class="px-4 mb-8 mt-4">
            <div class="bg-white shadow-md p-4 rounded-button border border-gray-100">
                <h2 class="text-lg font-semibold text-gray-800 mb-3">Kargonuzu Takip Edin</h2>
                <div class="flex items-center gap-2">
                    <input type="text" id="tracking-input" placeholder="Takip numaranızı girin..." class="flex-1 p-3 border border-gray-300 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm">
                    <button id="track-single-btn" class="bg-primary text-white p-3 rounded-button font-medium hover:bg-primary/90 transition-colors flex-shrink-0">
                        <i class="ri-search-line ri-lg"></i>
                    </button>
                </div>
                <p class="text-xs text-gray-500 mt-2">Birden fazla numara için virgül (,) kullanabilirsiniz.</p>
            </div>
        </div>

        <div id="orders-section" class="bg-white rounded-lg shadow-md mx-4 mb-8">
            <div class="bg-primary text-white p-4 rounded-t-lg flex items-center justify-between">
                <h2 class="text-lg font-medium">Güncel Gönderilerim</h2>
                <a href="https://readdy.ai/home/b800f715-acec-4575-acd1-66571f959c9d/3af37ec5-1c9d-4306-b2c2-90c1bdb926e2" data-readdy="true" class="text-sm font-medium text-white hover:text-white/80">Tümünü Gör</a>
            </div>
            <div id="orders-content" class="p-4">
                <div id="no-orders" class="text-center py-8 hidden">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="ri-package-line ri-2x text-gray-400"></i>
                    </div>
                    <h3 class="text-lg font-medium text-gray-800 mb-2">Henüz takip edilen kargonuz bulunmuyor</h3>
                    <p class="text-sm text-gray-600">Takip numaranızı girerek kargonuzu takip etmeye başlayabilirsiniz.</p>
                </div>
                <div id="has-orders">
                    </div>
                <div id="search-results" class="hidden">
                    </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md mx-4 p-4 mb-8">
            <h3 class="text-lg font-semibold mb-4">Nasıl Çalışır?</h3>
            <ol class="list-decimal pl-5 space-y-3 text-sm text-gray-700">
                <li>Türkiye'deki herhangi bir siteden ürün seçin ve siparişinizi oluşturun.</li>
                <li>Ürünü kendi adınıza sipariş edin ve aşağıdaki teslimat adresini kullanın.</li>
                <li>Siparişiniz depomuza ulaştığında size özel takip numaranızla kargonuzu takip edin.</li>
            </ol>
            <div class="mt-4 p-3 bg-gray-50 rounded-lg relative">
                <h4 class="text-sm font-medium mb-1">Teslimat Adresi (Türkiye Depo)</h4>
                <p id="delivery-address" class="text-sm text-gray-700 pr-8">Getir Kıbrıs Depo, Mersin 10, Türkiye</p>
                <button class="copy-btn absolute top-3 right-3 w-6 h-6 flex items-center justify-center text-primary cursor-pointer" data-copy-text="Getir Kıbrıs Depo, Mersin 10, Türkiye">
                    <i class="ri-file-copy-line ri-lg"></i>
                </button>
            </div>
            <div class="mt-3 p-3 bg-gray-50 rounded-lg relative">
                <h4 class="text-sm font-medium mb-1">IBAN Bilgisi</h4>
                <p id="iban-info" class="text-sm text-gray-700 pr-8">TR12 3456 7890 1234 5678 9012 34</p>
                <button class="copy-btn absolute top-3 right-3 w-6 h-6 flex items-center justify-center text-primary cursor-pointer" data-copy-text="TR12 3456 7890 1234 5678 9012 34">
                    <i class="ri-file-copy-line ri-lg"></i>
                </button>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md mx-4 p-4 mb-8">
            <h3 class="text-lg font-semibold mb-4">Bize Ulaşın</h3>
            <div class="space-y-4">
                <div class="flex items-start gap-3">
                    <div class="w-6 h-6 flex items-center justify-center text-primary">
                        <i class="ri-map-pin-2-line"></i>
                    </div>
                    <div>
                        <h5 class="font-medium text-gray-800">Adres</h5>
                        <p class="text-sm text-gray-600">Şehit Mustafa Ruso Caddesi, No:86, Lefkoşa, KKTC</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="w-6 h-6 flex items-center justify-center text-primary">
                        <i class="ri-phone-line"></i>
                    </div>
                    <div>
                        <h5 class="font-medium text-gray-800">Telefon</h5>
                        <p class="text-sm text-gray-600">+90 392 123 45 67</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="w-6 h-6 flex items-center justify-center text-primary">
                        <i class="ri-mail-line"></i>
                    </div>
                    <div>
                        <h5 class="font-medium text-gray-800">E-posta</h5>
                        <p class="text-sm text-gray-600">info@getirkibris.com</p>
                    </div>
                </div>
            </div>
            <div class="mt-6 relative">
                <div class="absolute top-4 left-4 z-10 bg-white px-4 py-2 rounded-lg shadow-md">
                    <h5 class="font-medium text-gray-800">Kıbrıs Adresimiz</h5>
                </div>
                <div class="w-full h-64 rounded-lg overflow-hidden">
                    <img src="https://public.readdy.ai/gen_page/map_placeholder_1280x720.png" alt="Harita" class="w-full h-full object-cover">
                </div>
            </div>
        </div>
    </main>
</div>

<a href="https://wa.me/90539090879" data-readdy="true" target="_blank" class="fixed bottom-20 right-4 z-50 bg-[#25D366] w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-[#20bd5a] transition-colors">
    <i class="ri-whatsapp-line ri-xl text-white"></i>
</a>

<div class="mt-8 px-4 pb-20 text-center">
    <div class="space-x-4">
        <a href="#" class="text-xs text-gray-600 hover:text-primary">Gizlilik Politikası</a>
        <a href="#" class="text-xs text-gray-600 hover:text-primary">Kullanım Şartları</a>
        <a href="#" class="text-xs text-gray-600 hover:text-primary">S.S.S.</a>
    </div>
</div>

<div id="login-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg p-6 w-[320px] relative">
        <button id="close-login-modal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 cursor-pointer">
            <i class="ri-close-line ri-lg"></i>
        </button>
        <div class="text-center mb-6">
            <h3 class="text-xl font-semibold text-gray-800">Giriş Yap</h3>
            <p class="text-sm text-gray-600 mt-1">Kargolarınızı takip etmek için giriş yapın</p>
        </div>
        <button id="google-login-btn" class="w-full flex items-center justify-center gap-2 border border-gray-300 rounded-button py-3 font-medium hover:bg-gray-50 transition-colors cursor-pointer">
            <i class="ri-google-fill ri-lg text-primary"></i>
            <span>Google ile Giriş Yap</span>
        </button>
    </div>
</div>

<div id="auth-required-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg p-6 w-[320px]">
        <div class="text-center mb-6">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="ri-lock-line ri-2x text-red-500"></i>
            </div>
            <h3 class="text-xl font-semibold text-gray-800">Giriş Gerekli</h3>
            <p class="text-sm text-gray-600 mt-2">Bu özelliği kullanmak için lütfen giriş yapın.</p>
        </div>
        <button id="auth-login-btn" class="w-full bg-primary text-white py-3 rounded-button font-medium hover:bg-primary/90 transition-colors cursor-pointer">
            Giriş Yap
        </button>
        <button id="close-auth-modal" class="w-full text-gray-600 py-2 mt-2 font-medium hover:text-gray-800 transition-colors cursor-pointer">
            Kapat
        </button>
    </div>
</div>

<div id="toast" class="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg opacity-0 transition-opacity duration-300 z-50">
    <span id="toast-message">Kopyalandı!</span>
</div>

<script id="firebase-config">
    // Firebase Config
    const firebaseConfig = {
        apiKey: "AIzaSyCHms5Y5x-KOu3Y43FrfRoljmW_4m3H4yY",
        authDomain: "kibris-6b4f7.firebaseapp.com",
        projectId: "kibris-6b4f7",
        storageBucket: "kibris-6b4f7.firebasestorage.app",
        messagingSenderId: "141262926171",
        appId: "1:141262926171:web:07226845e51d4bbc0dea7e",
        measurementId: "G-JL9P6BRZTD"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
</script>

<script id="auth-script">
document.addEventListener('DOMContentLoaded', function() {
    let isLoggedIn = false;
    let userProfile = null;
    const loginBtn = document.getElementById('login-btn');
    const profileContainer = document.getElementById('profile-container');
    const profileImg = document.getElementById('profile-img');
    const loginModal = document.getElementById('login-modal');
    const closeLoginModal = document.getElementById('close-login-modal');
    const googleLoginBtn = document.getElementById('google-login-btn');
    const authRequiredModal = document.getElementById('auth-required-modal');
    const authLoginBtn = document.getElementById('auth-login-btn');
    const closeAuthModal = document.getElementById('close-auth-modal');

    // --- FIREBASE GOOGLE AUTH ---
    if (typeof firebase !== "undefined") {
        auth.onAuthStateChanged(function(user) {
            if (user) {
                isLoggedIn = true;
                userProfile = {
                    name: user.displayName,
                    email: user.email,
                    photoUrl: user.photoURL
                };
                updateAuthUI();
                loadOrders(); // Load user's orders when logged in
            } else {
                isLoggedIn = false;
                userProfile = null;
                updateAuthUI();
                showNoOrders(); // Show no orders if logged out
            }
        });

        googleLoginBtn.addEventListener('click', function() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then(result => {
                    loginModal.classList.add('hidden');
                    showToast('Giriş başarılı!');
                })
                .catch(error => {
                    showToast('Giriş başarısız: ' + error.message);
                });
        });

        profileContainer.addEventListener('click', function() {
            if (confirm('Çıkış yapmak istediğinize emin misiniz?')) {
                auth.signOut().then(() => {
                    showToast('Çıkış yapıldı');
                });
            }
        });
    } else {
        googleLoginBtn.addEventListener('click', function() {
            showToast('Bağlantı hatası!');
        });
    }

    // Show login modal
    loginBtn.addEventListener('click', function() {
        loginModal.classList.remove('hidden');
    });

    // Close login modal
    closeLoginModal.addEventListener('click', function() {
        loginModal.classList.add('hidden');
    });

    // Show auth required modal
    window.showAuthRequiredModal = function() { // Made global for use elsewhere
        authRequiredModal.classList.remove('hidden');
    }

    // Close auth required modal
    closeAuthModal.addEventListener('click', function() {
        authRequiredModal.classList.add('hidden');
    });

    // Auth login button
    authLoginBtn.addEventListener('click', function() {
        authRequiredModal.classList.add('hidden');
        loginModal.classList.remove('hidden');
    });

    // Update UI based on auth state
    function updateAuthUI() {
        if (isLoggedIn && userProfile) {
            loginBtn.classList.add('hidden');
            profileContainer.classList.remove('hidden');
            profileImg.src = userProfile.photoUrl;
            profileImg.alt = userProfile.name;
        } else {
            loginBtn.classList.remove('hidden');
            profileContainer.classList.add('hidden');
        }
    }
});
</script>

<script id="orders-script">
document.addEventListener('DOMContentLoaded', function() {
    const noOrders = document.getElementById('no-orders');
    const hasOrders = document.getElementById('has-orders');
    const searchResultsDiv = document.getElementById('search-results');
    const trackingInput = document.getElementById('tracking-input');
    const trackSingleBtn = document.getElementById('track-single-btn');

    // Helper functions for status
    function getStatusText(status) {
        switch (status) {
            case 'bekleniyor':
                return 'Bekleniyor';
            case 'tr_depoda':
                return 'TR Depoda';
            case 'yuklendi':
                return 'Yüklendi';
            case 'kibris_depoda':
                return 'Kıbrıs Depoda';
            case 'teslim_edildi':
                return 'Teslim Edildi';
            default:
                return 'Durum Bilgisi Yok';
        }
    }

    function getStatusColors(status) {
        switch (status) {
            case 'bekleniyor':
                return { bgColor: 'bg-orange-100', textColor: 'text-orange-600' };
            case 'tr_depoda':
                return { bgColor: 'bg-blue-100', textColor: 'text-blue-600' };
            case 'yuklendi':
                return { bgColor: 'bg-indigo-100', textColor: 'text-indigo-600' };
            case 'kibris_depoda':
                return { bgColor: 'bg-green-100', textColor: 'text-green-600' };
            case 'teslim_edildi':
                return { bgColor: 'bg-primary/20', textColor: 'text-primary' };
            default:
                return { bgColor: 'bg-gray-100', textColor: 'text-gray-600' };
        }
    }

    function getStatusProgress(status) {
        switch (status) {
            case 'bekleniyor':
                return 0;
            case 'tr_depoda':
                return 25;
            case 'yuklendi':
                return 50;
            case 'kibris_depoda':
                return 75;
            case 'teslim_edildi':
                return 100;
            default:
                return 0;
        }
    }

    function createOrderCard(order) {
        const date = order.createdAt && order.createdAt.toDate
            ? order.createdAt.toDate()
            : (order.createdAt instanceof Date ? order.createdAt : new Date());
        const isoDate = date.toLocaleDateString('tr-TR', { day: 'numeric', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit' });
        
        const colors = getStatusColors(order.status);
        const progress = getStatusProgress(order.status);
        const stages = ['bekleniyor', 'tr_depoda', 'yuklendi', 'kibris_depoda', 'teslim_edildi'];

        let progressStageHTML = '';
        stages.forEach((stage, index) => {
            const isActive = progress >= (index * 25);
            const isCurrent = order.status === stage;
            progressStageHTML += `
                <div class="flex-1 text-center relative ${isActive ? 'text-primary font-semibold' : 'text-gray-500'} text-xs">
                    ${getStatusText(stage)}
                </div>
            `;
        });

        return `
            <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4">
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-semibold text-primary">Takip No: <span class="text-gray-800">${order.orderCode || order.id}</span></h4>
                    <button class="copy-btn text-gray-500 hover:text-primary transition-colors" data-copy-text="${order.orderCode || order.id}">
                        <i class="ri-file-copy-line"></i>
                    </button>
                </div>

                <div class="text-sm font-medium mb-3">
                    Durum:
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors.bgColor} ${colors.textColor}">
                        <i class="ri-info-i mr-1"></i> ${getStatusText(order.status)}
                    </span>
                </div>

                <div class="relative pt-1">
                    <div class="flex mb-2 items-center justify-between text-xs text-gray-500">
                        ${progressStageHTML}
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-1.5 relative">
                        <div class="h-1.5 rounded-full bg-primary absolute" style="width: ${progress}%;"></div>
                        <div class="progress-dot ${progress >= 0 ? 'active' : ''}" style="left: 0%;"></div>
                        <div class="progress-dot ${progress >= 25 ? 'active' : ''}" style="left: 25%;"></div>
                        <div class="progress-dot ${progress >= 50 ? 'active' : ''}" style="left: 50%;"></div>
                        <div class="progress-dot ${progress >= 75 ? 'active' : ''}" style="left: 75%;"></div>
                        <div class="progress-dot ${progress >= 100 ? 'active' : ''}" style="left: 100%;"></div>
                    </div>
                </div>

                <p class="text-xs text-gray-500 mt-4">Son Güncelleme: ${isoDate}</p>

                <button class="w-full bg-primary text-white py-2 rounded-button font-medium hover:bg-primary/90 transition-colors mt-4" onclick="showToast('Detaylar yakında eklenecek!')">
                    Detayları Görüntüle
                </button>
            </div>
        `;
    }

    function showNoOrders(targetDiv = noOrders) {
        targetDiv.classList.remove('hidden');
        if (targetDiv === noOrders) {
            hasOrders.classList.add('hidden');
            searchResultsDiv.classList.add('hidden');
        } else if (targetDiv === searchResultsDiv) {
             // If showing no results for search, ensure "has-orders" might still be visible
             // or hide it depending on overall logic. For now, just show searchResultsDiv's no-results message.
        }
    }

    function displayOrders(orders, targetDiv) {
        if (orders.length === 0) {
            showNoOrders(targetDiv === searchResultsDiv ? searchResultsDiv : noOrders); // Show specific no-orders message
            if (targetDiv === hasOrders) hasOrders.innerHTML = ''; // Clear existing orders
            if (targetDiv === searchResultsDiv) searchResultsDiv.innerHTML = '';
            return;
        }

        targetDiv.classList.remove('hidden');
        if (targetDiv === hasOrders) { // If displaying user's orders
            noOrders.classList.add('hidden');
            searchResultsDiv.classList.add('hidden'); // Hide search results if showing user's orders
        } else if (targetDiv === searchResultsDiv) { // If displaying search results
            noOrders.classList.add('hidden');
            hasOrders.classList.add('hidden'); // Hide user's orders if showing search results
        }

        targetDiv.innerHTML = '';
        orders.forEach(order => {
            targetDiv.innerHTML += createOrderCard(order);
        });
    }

    // Firestore üzerinden kullanıcının siparişlerini çek
    window.loadOrders = function() {
        if (typeof firebase === "undefined" || !firebase.auth().currentUser) {
            showNoOrders(noOrders);
            return;
        }
        db.collection('orders')
            .where("user", "==", firebase.auth().currentUser.uid)
            .orderBy("createdAt", "desc")
            .limit(10) // Only show latest 10 orders for main view
            .get()
            .then((querySnapshot) => {
                const orders = [];
                querySnapshot.forEach(doc => {
                    orders.push({ ...doc.data(), id: doc.id });
                });
                displayOrders(orders, hasOrders);
            })
            .catch(err => {
                showToast('Siparişler yüklenirken hata oluştu: ' + err.message);
                showNoOrders(noOrders);
            });
    };

    // Single tracking number search
    trackSingleBtn.addEventListener('click', async function() {
        const trackingNumbersInput = trackingInput.value.trim();
        if (trackingNumbersInput === '') {
            showToast('Lütfen takip numarası girin.');
            return;
        }

        const numbers = trackingNumbersInput.split(',').map(num => num.trim()).filter(num => num !== '');
        if (numbers.length === 0) {
            showToast('Geçerli takip numarası girin.');
            return;
        }

        const results = [];
        for (const num of numbers) {
            try {
                // Try searching by orderCode first
                let querySnapshot = await db.collection('orders').where("orderCode", "==", num).get();
                if (querySnapshot.empty) {
                    // If not found by orderCode, try searching by document ID
                    const doc = await db.collection('orders').doc(num).get();
                    if (doc.exists) {
                        results.push({ ...doc.data(), id: doc.id });
                    }
                } else {
                    querySnapshot.forEach(doc => {
                        results.push({ ...doc.data(), id: doc.id });
                    });
                }
            } catch (error) {
                console.error("Error fetching document:", error);
                // Optionally show a toast for specific failed numbers
            }
        }

        if (results.length > 0) {
            displayOrders(results, searchResultsDiv);
        } else {
            searchResultsDiv.innerHTML = `
                <div class="text-center py-8">
                    <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="ri-error-warning-line ri-2x text-red-500"></i>
                    </div>
                    <h3 class="text-lg font-medium text-gray-800 mb-2">Kargo bulunamadı</h3>
                    <p class="text-sm text-gray-600">Girdiğiniz takip numarası (${trackingNumbersInput}) ile ilgili bir gönderi bulunamadı. Lütfen numarayı kontrol edip tekrar deneyin.</p>
                </div>
            `;
            searchResultsDiv.classList.remove('hidden');
            hasOrders.classList.add('hidden'); // Hide user's orders when search results are shown
            noOrders.classList.add('hidden');
        }
    });
});
</script>

<script id="utils-script">
document.addEventListener('DOMContentLoaded', function() {
    // Copy to clipboard functionality
    const copyButtons = document.querySelectorAll('.copy-btn');
    copyButtons.forEach(button => {
        button.addEventListener('click', function() {
            const textToCopy = this.getAttribute('data-copy-text');
            if (textToCopy) {
                navigator.clipboard.writeText(textToCopy)
                    .then(() => {
                        showToast('Kopyalandı!');
                    })
                    .catch(err => {
                        showToast('Kopyalama başarısız');
                        console.error('Kopyalama hatası:', err);
                    });
            }
        });
    });

    // Toast notification
    window.showToast = function(message) {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        toastMessage.textContent = message;
        toast.classList.remove('opacity-0');
        setTimeout(() => {
            toast.classList.add('opacity-0');
        }, 3000);
    };
});
</script>
</body>
</html>
