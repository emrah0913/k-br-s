<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=375, initial-scale=1.0">
<title>Getir Kıbrıs</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>
tailwind.config={theme:{extend:{colors:{primary:'#5d3ebc',secondary:'#ffd300'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body { font-family: 'Inter', sans-serif; background-color: #f9f9f9; }
.copy-btn:active { transform: scale(0.95); }
</style>
</head>
<body class="bg-gray-50">
<div class="w-[375px] mx-auto relative min-h-screen pb-16">
<!-- Header -->
<header class="fixed top-0 w-full bg-white shadow-sm z-50 px-4 py-3 flex justify-between items-center">
<div class="w-8"></div>
<div class="flex flex-col items-center">
<img src="https://static.readdy.ai/image/d4cf8783f5bb2724d5eb1b66ee82374b/8de9178d5e8d147b21dbfa093538290a.png" alt="Getir Kıbrıs" class="h-12">
<span class="text-sm font-medium text-primary mt-1">Ana Sayfa</span>
</div>
<div id="auth-button" class="w-8 h-8 flex items-center justify-center">
  <button id="login-btn" class="text-xs text-primary font-medium cursor-pointer">
    <i class="ri-google-fill ri-lg"></i>
  </button>
  <div id="profile-container" class="hidden">
    <img id="profile-img" src="" alt="Profil" class="w-8 h-8 rounded-full cursor-pointer">
  </div>
</div>
</header>
<!-- Main Content -->
<main class="pt-16 pb-20">
<!-- Video Section -->
<div class="relative w-full h-64 overflow-hidden mb-6">
<video class="w-full h-full object-cover" controls poster="https://readdy.ai/api/search-image?query=online%20shopping%20and%20delivery%20service%2C%20modern%20lifestyle%2C%20soft%20lighting%2C%20clean%20background%2C%20banner%20image&width=800&height=400&seq=1&orientation=landscape">
<source src="https://public.readdy.ai/assets/sample.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<div class="absolute inset-0 bg-gradient-to-t from-primary/70 to-transparent pointer-events-none"></div>
</div>
<!-- Main Action Buttons -->
<div class="grid grid-cols-2 gap-4 px-4 mb-8">
<button id="calculate-btn" class="bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
  <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
    <i class="ri-calculator-line ri-xl text-primary"></i>
  </div>
  <span class="text-sm font-medium">Hesapla</span>
</button>
<button id="order-btn" class="bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
  <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
    <i class="ri-shopping-cart-line ri-xl text-primary"></i>
  </div>
  <span class="text-sm font-medium">Sipariş Ver</span>
</button>
<button id="my-orders-btn" class="bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
  <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
    <i class="ri-file-list-3-line ri-xl text-primary"></i>
  </div>
  <span class="text-sm font-medium">Siparişlerim</span>
</button>
<button id="track-btn" class="bg-white shadow-md p-4 rounded-button flex flex-col items-center justify-center h-32 cursor-pointer border border-gray-100 hover:border-primary/20 transition-all">
  <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2">
    <i class="ri-truck-line ri-xl text-primary"></i>
  </div>
  <span class="text-sm font-medium">Kargo Takip</span>
 <script>
  document.getElementById('order-btn').addEventListener('click', function() {
    window.location.href = 'https://www.google.com';
  });
  document.getElementById('track-btn').addEventListener('click', function() {
    window.location.href = 'https://www.google.com';
  });
  document.getElementById('my-orders-btn').addEventListener('click', function() {
    window.location.href = 'https://www.google.com';
  });
</script>
</button>
</div>
<!-- Calculator Section -->
<div id="calculator-section" class="bg-white rounded-lg shadow-md mx-4 p-4 mb-8 hidden">
<h3 class="text-lg font-semibold mb-4 text-primary">Ürün Maliyeti Hesapla</h3>
<form id="calculator-form" class="space-y-4">
<div>
<label for="order-method" class="block text-sm font-medium text-gray-700 mb-1">Sipariş Yöntemi</label>
<div class="relative mb-4">
<i class="ri-shopping-bag-line ri-lg absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
<select id="order-method" class="w-full pl-10 pr-10 py-2 border border-gray-200 rounded-button focus:outline-none focus:border-primary appearance-none bg-white text-sm">
<option value="" disabled selected>Sipariş yöntemi seçin</option>
<option value="self">Ürünü ben sipariş edeceğim, sadece kargo hizmeti istiyorum</option>
<option value="service">Ürünü benim yerime siz sipariş edin, size ödeme yapacağım</option>
</select>
<i class="ri-arrow-down-s-line ri-lg absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
</div>
<div>
<label for="product-link" class="block text-sm font-medium text-gray-700 mb-1">Ürün Linki</label>
<div class="relative">
<i class="ri-link ri-lg absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
<input type="url" id="product-link" class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-button focus:outline-none focus:border-primary" placeholder="https://www.example.com/urun">
</div>
</div>
</div>
<div>
<label for="product-price" class="block text-sm font-medium text-gray-700 mb-1">Ürün Fiyatı (₺)</label>
<div class="relative">
<i class="ri-money-lira-circle-line ri-lg absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
<input type="number" id="product-price" class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-button focus:outline-none focus:border-primary" placeholder="0.00">
</div>
</div>
<div>
<label for="product-category" class="block text-sm font-medium text-gray-700 mb-1">Kategori</label>
<div class="relative">
<i class="ri-price-tag-3-line ri-lg absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
<select id="product-category" class="w-full pl-10 pr-10 py-2 border border-gray-200 rounded-button focus:outline-none focus:border-primary appearance-none bg-white text-sm">
<option value="" disabled selected>Kategori seçin</option>
<option value="furniture">Mobilya</option>
<option value="electronics">Elektronik</option>
<option value="clothing">Giyim</option>
<option value="cosmetics">Kozmetik</option>
<option value="stationery">Kırtasiye</option>
</select>
<i class="ri-arrow-down-s-line ri-lg absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
</div>
</div>
<div>
<span class="block text-sm font-medium text-gray-700 mb-2">Teslimat Tipi</span>
<div class="flex space-x-4">
<label class="flex items-center cursor-pointer">
<input type="radio" name="delivery-type" value="warehouse" class="sr-only" checked>
<div class="w-5 h-5 border border-gray-300 rounded-full flex items-center justify-center mr-2 delivery-radio">
<div class="w-3 h-3 bg-primary rounded-full hidden"></div>
</div>
<span class="text-sm">Depodan teslim</span>
</label>
<label class="flex items-center cursor-pointer">
<input type="radio" name="delivery-type" value="home" class="sr-only">
<div class="w-5 h-5 border border-gray-300 rounded-full flex items-center justify-center mr-2 delivery-radio">
<div class="w-3 h-3 bg-primary rounded-full hidden"></div>
</div>
<span class="text-sm">Eve teslim</span>
</label>
</div>
</div>
<div id="city-selection" class="hidden">
<label for="city" class="block text-sm font-medium text-gray-700 mb-1">Şehir</label>
<div class="relative">
<i class="ri-map-pin-line ri-lg absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
<select id="city" class="w-full pl-10 pr-10 py-2 border border-gray-200 rounded-button focus:outline-none focus:border-primary appearance-none bg-white text-sm">
<option value="" disabled selected>Şehir seçin</option>
<option value="lefkosa">Lefkoşa</option>
<option value="girne">Girne</option>
<option value="magusa">Gazimağusa</option>
<option value="guzelyurt">Güzelyurt</option>
<option value="iskele">İskele</option>
</select>
<i class="ri-arrow-down-s-line ri-lg absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
</div>
</div>
<button type="submit" class="w-full bg-primary text-white py-3 rounded-button font-medium hover:bg-primary/90 transition-colors cursor-pointer !rounded-button">
Hesapla
</button>
</form>
<div id="calculation-result" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
<h4 class="font-medium text-gray-800 mb-2">Hesaplama Sonucu</h4>
<div class="space-y-2 text-sm">
<div class="flex justify-between">
<span>Ürün Fiyatı:</span>
<span id="result-price">0 ₺</span>
</div>
<div class="flex justify-between">
<span>Kategori Ücreti:</span>
<span id="result-category-fee">0 ₺</span>
</div>
<div class="flex justify-between" id="result-city-row">
<span>Teslimat Ücreti:</span>
<span id="result-delivery-fee">0 ₺</span>
</div>
<div class="flex justify-between font-medium text-primary pt-2 border-t border-gray-200">
<span>Toplam:</span>
<span id="result-total">0 ₺</span>
</div>
</div>
</div>
</div>
<!-- Popüler Alışveriş Siteleri ve Nasıl Çalışır -->
<!-- ... (Aynen bırak) ... -->

<!-- EK: İletişim Bilgileri, Harita, Alışveriş İşlemleri, Teslimat ve Takip, Müşteri Hizmetleri -->
<div class="bg-white rounded-lg shadow-md mx-4 p-4 mb-8">
  <h4 class="text-lg font-semibold mb-4 text-primary">İletişim Bilgileri</h4>
  <div class="space-y-4">
    <div class="flex items-start gap-3">
      <div class="w-6 h-6 flex items-center justify-center text-primary">
        <i class="ri-map-pin-2-line"></i>
      </div>
      <div>
        <h5 class="font-medium text-gray-800">Adres</h5>
        <p class="text-sm text-gray-600">Şehit Mustafa Ruso Caddesi, No:86, Lefkoşa, KKTC</p>
      </div>
    </div>
    <div class="flex items-start gap-3">
      <div class="w-6 h-6 flex items-center justify-center text-primary">
        <i class="ri-phone-line"></i>
      </div>
      <div>
        <h5 class="font-medium text-gray-800">Telefon</h5>
        <p class="text-sm text-gray-600">+90 392 123 45 67</p>
      </div>
    </div>
    <div class="flex items-start gap-3">
      <div class="w-6 h-6 flex items-center justify-center text-primary">
        <i class="ri-mail-line"></i>
      </div>
      <div>
        <h5 class="font-medium text-gray-800">E-posta</h5>
        <p class="text-sm text-gray-600">info@getirkibris.com</p>
      </div>
    </div>
  </div>
  <div class="mt-6">
    <h5 class="font-medium text-gray-800 mb-1">Kıbrıs Adresimiz</h5>
    <div class="w-full h-64 rounded-lg overflow-hidden relative bg-gray-100 flex items-center justify-center group">
      <!-- Embed Harita -->
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3356.564237011065!2d33.46120507707925!3d35.22650137269345!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14de3f74e0864075%3A0x5fa8b6333def3eb!2sPufemo!5e0!3m2!1str!2str!4v1717419783683!5m2!1str!2str"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        class="absolute inset-0 w-full h-full border-0">
      </iframe>
      <!-- Tıklanabilir Şeffaf Link -->
      <a
        href="https://www.google.com/maps/place/Pufemo/@35.2265014,33.4637806,17z/data=!3m1!4b1!4m6!3m5!1s0x14de3f74e0864075:0x5fa8b6333def3eb!8m2!3d35.2265014!4d33.4637806!16s%2Fg%2F11x5__k07t?entry=ttu"
        target="_blank"
        rel="noopener"
        class="absolute inset-0 w-full h-full z-10"
        style="background:rgba(0,0,0,0);"
        title="Google Harita'da aç">
        <span class="sr-only">Haritayı Google'da aç</span>
      </a>
      <!-- Hoverda ufak bir bilgi etiketi -->
      <div class="absolute bottom-2 right-2 bg-white/80 text-xs text-primary rounded px-3 py-1 z-20 shadow group-hover:opacity-100 opacity-0 transition-opacity pointer-events-none">
        Haritayı büyütmek için tıkla
      </div>
    </div>
  </div>
</div>
<div class="mx-4 mb-8 space-y-6">
  <div>
    <h4 class="text-lg font-semibold mb-4 text-primary">Alışveriş İşlemleri</h4>
    <div class="grid grid-cols-1 gap-4">
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-shopping-cart-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">Sipariş Verme</h5>
            <p class="text-sm text-gray-600 mt-1">Türkiye'deki herhangi bir e-ticaret sitesinden ürün seçin, sipariş formunu doldurun ve ödemenizi yapın.</p>
          </div>
        </div>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-calculator-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">Maliyet Hesaplama</h5>
            <p class="text-sm text-gray-600 mt-1">Ürün fiyatı ve kategorisine göre toplam maliyeti hesaplayın, ek ücretleri önceden öğrenin.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <h4 class="text-lg font-semibold mb-4 text-primary">Teslimat ve Takip</h4>
    <div class="grid grid-cols-1 gap-4">
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-truck-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">Kargo Takibi</h5>
            <p class="text-sm text-gray-600 mt-1">Siparişinizin durumunu anlık olarak takip edin, teslimat sürecini kontrol edin.</p>
          </div>
        </div>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-map-pin-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">Teslimat Seçenekleri</h5>
            <p class="text-sm text-gray-600 mt-1">Depodan teslim veya adrese teslimat seçeneklerinden size uygun olanı seçin.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <h4 class="text-lg font-semibold mb-4 text-primary">Müşteri Hizmetleri</h4>
    <div class="grid grid-cols-1 gap-4">
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-customer-service-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">7/24 Destek</h5>
            <p class="text-sm text-gray-600 mt-1">WhatsApp üzerinden bize ulaşın, sorularınızı yanıtlayalım, sorunlarınıza çözüm bulalım.</p>
          </div>
        </div>
      </div>
      <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
            <i class="ri-file-list-3-line text-primary"></i>
          </div>
          <div>
            <h5 class="font-medium text-gray-800">Sipariş Geçmişi</h5>
            <p class="text-sm text-gray-600 mt-1">Tüm siparişlerinizi görüntüleyin, geçmiş alışverişlerinizi kontrol edin.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- WhatsApp Button -->
<a href="https://wa.me/903921234567" target="_blank" class="fixed bottom-20 right-4 z-50 bg-[#25D366] w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-[#20bd5a] transition-colors">
<i class="ri-whatsapp-line ri-xl text-white"></i>
</a>
<!-- Footer Links -->
<div class="mt-8 px-4 pb-20 text-center">
<div class="space-x-4">
<a href="#" class="text-xs text-gray-600 hover:text-primary">Gizlilik Politikası</a>
<a href="#" class="text-xs text-gray-600 hover:text-primary">Kullanım Şartları</a>
<a href="#" class="text-xs text-gray-600 hover:text-primary">S.S.S.</a>
</div>
</div>
<!-- Login Modal -->
<div id="login-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
<div class="bg-white rounded-lg p-6 w-[320px] relative">
<button id="close-login-modal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 cursor-pointer">
<i class="ri-close-line ri-lg"></i>
</button>
<div class="text-center mb-6">
<h3 class="text-xl font-semibold text-gray-800">Giriş Yap</h3>
<p class="text-sm text-gray-600 mt-1">Hizmetlerimizi kullanmak için giriş yapın</p>
</div>
<button id="google-login-btn" class="w-full flex items-center justify-center gap-2 border border-gray-300 rounded-button py-3 font-medium hover:bg-gray-50 transition-colors cursor-pointer">
<i class="ri-google-fill ri-lg text-primary"></i>
<span>Google ile Giriş Yap</span>
</button>
</div>
</div>
<!-- Auth Required Modal -->
<div id="auth-required-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
<div class="bg-white rounded-lg p-6 w-[320px]">
<div class="text-center mb-6">
<div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
<i class="ri-lock-line ri-2x text-red-500"></i>
</div>
<h3 class="text-xl font-semibold text-gray-800">Giriş Gerekli</h3>
<p class="text-sm text-gray-600 mt-2">Bu özelliği kullanmak için lütfen giriş yapın.</p>
</div>
<button id="auth-login-btn" class="w-full bg-primary text-white py-3 rounded-button font-medium hover:bg-primary/90 transition-colors cursor-pointer !rounded-button">
Giriş Yap
</button>
<button id="close-auth-modal" class="w-full text-gray-600 py-2 mt-2 font-medium hover:text-gray-800 transition-colors cursor-pointer">
Kapat
</button>
</div>
</div>
<!-- Toast Notification -->
<div id="toast" class="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg opacity-0 transition-opacity duration-300 z-50">
<span id="toast-message">Kopyalandı!</span>
</div>
<script>
// === Firebase v8 Auth Integration ===
var firebaseConfig = {
  // Kendi Firebase projenizin bilgilerini girin
  apiKey: "AIzaSyCHms5Y5x-KOu3Y43FrfRoljmW_4m3H4yY",
  authDomain: "kibris-6b4f7.firebaseapp.com",
  projectId: "kibris-6b4f7",
  storageBucket: "kibris-6b4f7.appspot.com",
  messagingSenderId: "141262926171",
  appId: "1:141262926171:web:07226845e51d4bbc0dea7e",
  measurementId: "G-JL9P6BRZTD"
};
firebase.initializeApp(firebaseConfig);
var auth = firebase.auth();
var currentUser = null;

const loginBtn = document.getElementById('login-btn');
const profileContainer = document.getElementById('profile-container');
const profileImg = document.getElementById('profile-img');
const loginModal = document.getElementById('login-modal');
const closeLoginModal = document.getElementById('close-login-modal');
const googleLoginBtn = document.getElementById('google-login-btn');
const authRequiredModal = document.getElementById('auth-required-modal');
const authLoginBtn = document.getElementById('auth-login-btn');
const closeAuthModal = document.getElementById('close-auth-modal');
const orderBtn = document.getElementById('order-btn');
const myOrdersBtn = document.getElementById('my-orders-btn');
const trackBtn = document.getElementById('track-btn');

// Auth UI update
function updateAuthUI(user) {
  currentUser = user;
  if (user) {
    loginBtn.classList.add('hidden');
    profileContainer.classList.remove('hidden');
    profileImg.src = user.photoURL || "";
    profileImg.alt = user.displayName || "Profil";
  } else {
    loginBtn.classList.remove('hidden');
    profileContainer.classList.add('hidden');
  }
}
auth.onAuthStateChanged(updateAuthUI);

loginBtn.onclick = function () {
  loginModal.classList.remove('hidden');
};
closeLoginModal.onclick = () => loginModal.classList.add('hidden');

googleLoginBtn.onclick = function () {
  var provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
    .then(function() {
      loginModal.classList.add('hidden');
      showToast('Giriş başarılı!');
    })
    .catch(function(e){ showToast('Giriş başarısız: ' + e.message); });
};
profileContainer.onclick = function () {
  if (confirm('Çıkış yapmak istediğinize emin misiniz?')) {
    auth.signOut().then(function(){ showToast('Çıkış yapıldı'); });
  }
};
// Auth required modal aç/kapa
function showAuthRequiredModal() {
  authRequiredModal.classList.remove('hidden');
}
closeAuthModal.onclick = () => authRequiredModal.classList.add('hidden');
authLoginBtn.onclick = function () {
  authRequiredModal.classList.add('hidden');
  loginModal.classList.remove('hidden');
};
// Protected butonlar (giriş yoksa modal aç)
[orderBtn, myOrdersBtn, trackBtn].forEach(function(btn){
  if (btn) {
    btn.addEventListener('click', function (e) {
      if (!currentUser) {
        e.preventDefault();
        showAuthRequiredModal();
      }
    });
  }
});
// Calculator button
const calculateBtn = document.getElementById('calculate-btn');
if (calculateBtn) {
  calculateBtn.addEventListener('click', function () {
    toggleCalculatorSection();
  });
}

// === Hesaplama Modülü ===
const calculatorSection = document.getElementById('calculator-section');
const calculatorForm = document.getElementById('calculator-form');
const citySelection = document.getElementById('city-selection');
const deliveryRadios = document.querySelectorAll('input[name="delivery-type"]');
const calculationResult = document.getElementById('calculation-result');
const resultCityRow = document.getElementById('result-city-row');
window.toggleCalculatorSection = function () {
  calculatorSection.classList.toggle('hidden');
  if (!calculatorSection.classList.contains('hidden')) {
    calculatorSection.scrollIntoView({ behavior: 'smooth' });
  }
};
deliveryRadios.forEach(function(radio) {
  radio.addEventListener('change', function () {
    document.querySelectorAll('.delivery-radio div').forEach(function(dot){
      dot.classList.add('hidden');
    });
    this.parentElement.querySelector('.delivery-radio div').classList.remove('hidden');
    if (this.value === 'home') {
      citySelection.classList.remove('hidden');
    } else {
      citySelection.classList.add('hidden');
    }
  });
});
calculatorForm.addEventListener('submit', function (e) {
  e.preventDefault();
  var orderMethod = document.getElementById('order-method').value;
  var price = parseFloat(document.getElementById('product-price').value) || 0;
  var category = document.getElementById('product-category').value;
  var deliveryType = document.querySelector('input[name="delivery-type"]:checked').value;
  var city = document.getElementById('city').value;
  if (!orderMethod) { showToast('Lütfen sipariş yöntemi seçin'); return; }
  if (price <= 0) { showToast('Lütfen geçerli bir fiyat girin'); return; }
  if (!category) { showToast('Lütfen bir kategori seçin'); return; }
  if (deliveryType === 'home' && !city) { showToast('Lütfen bir şehir seçin'); return; }
  var categoryRates = { 'furniture': 0.70, 'electronics': 0.70, 'clothing': 0.45, 'cosmetics': 0.70, 'stationery': 0.40 };
  var cityFees = { 'lefkosa': 200, 'girne': 350, 'magusa': 300, 'guzelyurt': 400, 'iskele': 450 };
  var categoryFee = price * categoryRates[category];
  var deliveryFee = (deliveryType === 'home') ? (cityFees[city] || 0) : 0;
  var total = price + categoryFee + deliveryFee;
  document.getElementById('result-price').textContent = price.toFixed(2) + " ₺";
  document.getElementById('result-category-fee').textContent = categoryFee.toFixed(2) + " ₺";
  document.getElementById('result-delivery-fee').textContent = deliveryFee.toFixed(2) + " ₺";
  document.getElementById('result-total').textContent = total.toFixed(2) + " ₺";
  if (deliveryType === 'home') { resultCityRow.classList.remove('hidden'); }
  else { resultCityRow.classList.add('hidden'); }
  calculationResult.classList.remove('hidden');
  calculationResult.scrollIntoView({ behavior: 'smooth' });
});
// Kopyala ve Toast
document.querySelectorAll('.copy-btn').forEach(function(btn){
  btn.addEventListener('click', function () {
    var targetId = this.getAttribute('data-copy');
    var textToCopy = document.getElementById(targetId).textContent;
    navigator.clipboard.writeText(textToCopy)
      .then(function(){ showToast('Kopyalandı!'); })
      .catch(function(err){ showToast('Kopyalama başarısız'); });
  });
});
function showToast(message) {
  var toast = document.getElementById('toast');
  var toastMessage = document.getElementById('toast-message');
  toastMessage.textContent = message;
  toast.classList.remove('opacity-0');
  setTimeout(function(){
    toast.classList.add('opacity-0');
  }, 3000);
}
</script>
</body>
</html>
