<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Kıbrıs Online</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat:wght@700&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-blue: #2563eb;
      --main-bg: #f6faff;
      --nav-bg: #fff;
      --radius: 18px;
      --shadow: 0 4px 24px #2563eb11;
      --shadow-strong: 0 6px 32px #2563eb22;
      --btn-grad: linear-gradient(90deg, #2563eb, #1746a2 80%);
      --btn-grad-hover: linear-gradient(90deg, #1746a2, #2563eb 80%);
      --input-bg: #f3f7fb;
      --input-border: #c6d7ee;
      --focus: #2563eb44;
      --transition: .18s cubic-bezier(.4,0,.2,1);
      --slogan-clr: #1554c0;
    }
    html, body { height:100%; margin:0; padding:0; }
    body {
      background: var(--main-bg);
      color: #1b263b;
      font-family: 'Inter', Arial, sans-serif;
      font-size: 17px;
      min-height: 100vh;
      letter-spacing: .01em;
    }
    /* HEADER */
    .header-bar {
      width: 100%;
      background: var(--nav-bg);
      box-shadow: var(--shadow);
      padding: 0;
      position: sticky;
      top: 0; left: 0; right: 0;
      z-index: 100;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      height: 58px;
    }
    .login-area {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-right: 18px;
    }
    .nav-login-btn {
      background: var(--btn-grad);
      color: #fff;
      font-weight: 700;
      border: none;
      border-radius: 10px;
      padding: 7px 13px 7px 10px;
      font-size: .98rem;
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 2px 6px #2563eb10;
      transition: background .17s, transform .16s;
    }
    .nav-login-btn:hover, .nav-login-btn:active {
      background: var(--btn-grad-hover);
      transform: scale(1.03);
    }
    .google-logo { width: 18px; height: 18px; border-radius: 50%; }
    .nav-avatar {
      width: 27px; height: 27px;
      border-radius: 50%;
      border: 1.7px solid #c6d7ee;
      object-fit: cover;
      background: #e3f0fe;
    }
    .nav-username {
      max-width: 105px;
      font-weight: 600;
      color: #1746a2;
      font-size: .98rem;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .nav-logout {
      background: transparent;
      color: #2563eb;
      border: none;
      font-weight: 700;
      font-size: .97rem;
      cursor: pointer;
      border-radius: 7px;
      padding: 4px 8px;
      transition: background .14s, color .14s;
    }
    .nav-logout:hover { background: #e0eaff; color: #1746a2;}

    /* SITE TITLE */
    .site-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 23px;
      margin-bottom: 6px;
      gap: 0;
    }
    .site-title {
      font-family: 'Pacifico', 'Montserrat', cursive, sans-serif;
      font-size: 2.5rem;
      color: #2563eb;
      letter-spacing: .04em;
      margin: 0;
      text-align: center;
      font-weight: 700;
      text-shadow: 0 3px 24px #2563eb17;
      user-select: none;
    }
    .main-nav {
      display: flex;
      gap: 15px;
      margin-top: 10px;
      margin-bottom: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .main-btn {
      padding: 10px 26px;
      border-radius: 12px;
      background: var(--btn-grad);
      color: #fff;
      font-weight: 700;
      border: none;
      font-size: 1.11rem;
      cursor: pointer;
      box-shadow: 0 2px 9px #2563eb10;
      transition: background .18s, transform .17s;
      letter-spacing: .01em;
    }
    .main-btn:hover, .main-btn:active {
      background: var(--btn-grad-hover);
      transform: scale(1.04);
    }
    /* SHIP HERO */
    .ship-hero-wrap {
      width: 100vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 12px;
      margin-bottom: 10px;
      gap: 12px;
    }
    .ship-img {
      width: min(400px, 95vw);
      max-width: 95vw;
      border-radius: 22px;
      box-shadow: 0 5px 28px #2563eb17;
      object-fit: contain;
      background: #fff;
      margin-bottom: 0;
      margin-top: 0;
    }
    .slogan {
      margin-top: 11px;
      font-size: 1.23rem;
      font-weight: 700;
      color: var(--slogan-clr);
      text-align: center;
      font-family: 'Montserrat', sans-serif;
      letter-spacing: .01em;
      margin-bottom: 3px;
    }
    /* CALC MODULE */
    .module-wrap {
      width: 98vw;
      margin: 19px auto 10px auto;
      background: #fff;
      border-radius: 17px;
      box-shadow: 0 2px 14px #2563eb13;
      padding: 23px 2vw 17px 2vw;
      display: flex;
      flex-direction: column;
      gap: 15px;
      position: relative;
      max-width: 420px;
      z-index: 2;
    }
    .module-title {
      font-size: 1.13rem;
      font-weight: 700;
      color: #2563eb;
      text-align: center;
      margin-bottom: 7px;
      letter-spacing: .01em;
    }
    .calc-row {
      display: flex;
      flex-direction: column;
      gap: 0;
      margin-bottom: 5px;
      width: 100%;
    }
    .calc-row-double {
      flex-direction: row;
      gap: 8px;
    }
    .calc-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 5px;
      min-width: 0;
    }
    .calc-label {
      font-weight: 600;
      font-size: .93rem;
      margin-bottom: 2px;
      color: #1746a2;
      letter-spacing: .01em;
    }
    .calc-input, .calc-select {
      padding: 8px 10px;
      border-radius: 7px;
      border: 1.2px solid #c6d7ee;
      font-size: .97rem;
      outline: none;
      background: #f3f7fb;
      transition: border .14s, box-shadow .13s;
      min-width: 0;
    }
    .calc-input:focus, .calc-select:focus {
      border: 1.5px solid #2563eb;
      background: #fafdff;
      box-shadow: 0 1px 8px #2563eb14;
    }
    .calc-action-btn {
      margin-top: 9px;
      width: 100%;
      padding: 11px 0;
      background: var(--btn-grad);
      color: #fff;
      font-size: 1.05rem;
      font-weight: 700;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background .13s, box-shadow .13s, transform .14s;
      box-shadow: 0 2px 9px #2563eb11;
      letter-spacing: .01em;
    }
    .calc-action-btn:active, .calc-action-btn:hover {
      background: var(--btn-grad-hover);
      transform: scale(1.018);
      box-shadow: 0 8px 32px #2563eb17;
    }
    .calc-result {
      margin-top: 7px;
      padding: 9px 0 2px 0;
      font-size: .99rem;
      font-weight: 700;
      color: #1746a2;
      text-align: center;
      min-height: 21px;
      letter-spacing: .01em;
    }
    /* SHOP LOGOS */
    .shop-logos {
      margin: 13px auto 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 11px;
      align-items: center;
      width: 97vw;
      max-width: 420px;
      padding-bottom: 13px;
    }
    .shop-logo-link {
      display: flex;
      align-items: center;
      transition: transform .14s;
      width: 17vw;
      max-width: 75px;
      min-width: 40px;
      justify-content: center;
    }
    .shop-logo-link:hover { transform: scale(1.07);}
    .shop-logo {
      height: 18px;
      object-fit: contain;
      filter: grayscale(0.07);
      max-width: 60px;
      min-width: 28px;
      background: #fff;
      border-radius: 7px;
      box-shadow: 0 2px 6px #2563eb0a;
      padding: 3px 4px;
      border: 1px solid #f1f5fa;
      width: 100%;
      transition: box-shadow .14s;
    }
    /* HOW TO USE */
    .how-to-use-wrap {
      width: 97vw;
      max-width: 430px;
      margin: 0 auto 22px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px #2563eb11;
      padding: 18px 13px 13px 13px;
    }
    .how-title {
      font-weight: 700;
      color: #2563eb;
      font-size: 1.08rem;
      margin-bottom: 8px;
      text-align: left;
    }
    .how-list {
      margin: 0 0 0 0;
      padding-left: 19px;
      font-size: .99rem;
    }
    .how-list li {
      margin-bottom: 5px;
      line-height: 1.6;
      font-size: .99rem;
    }
    /* DELIVERY ADDRESS */
    .address-wrap {
      width: 97vw;
      max-width: 430px;
      margin: 0 auto 17px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px #2563eb10;
      padding: 14px 13px 13px 13px;
      font-size: .97rem;
    }
    .address-title {
      font-weight: 700;
      color: #2563eb;
      font-size: 1.05rem;
      margin-bottom: 7px;
    }
    .address-box {
      background: #f3f7fb;
      border-radius: 7px;
      padding: 10px 13px;
      font-size: 1.01rem;
      font-family: 'Inter', monospace;
      margin-bottom: 6px;
      user-select: all;
      word-break: break-all;
    }
    /* BANK INFO */
    .bank-wrap {
      width: 97vw;
      max-width: 430px;
      margin: 0 auto 17px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px #2563eb10;
      padding: 14px 13px 13px 13px;
      font-size: .97rem;
    }
    .bank-title {
      font-weight: 700;
      color: #2563eb;
      font-size: 1.05rem;
      margin-bottom: 7px;
    }
    .bank-box {
      background: #f3f7fb;
      border-radius: 7px;
      padding: 10px 13px;
      font-size: 1.01rem;
      font-family: 'Inter', monospace;
      margin-bottom: 6px;
      user-select: all;
      word-break: break-all;
    }
    /* FOOTER */
    .footer {
      width: 100vw;
      background: #fafdff;
      color: #7c8ca8;
      font-size: .98rem;
      text-align: center;
      padding: 17px 10px 14px 10px;
      margin-top: 25px;
      border-top: 1px solid #e5eaf2;
      letter-spacing: .01em;
    }
    @media (min-width: 700px) {
      .site-title { font-size: 3.2rem;}
      .module-wrap, .how-to-use-wrap, .address-wrap, .bank-wrap { max-width: 480px;}
      .shop-logos { max-width: 570px;}
    }
    @media (max-width: 440px) {
      .site-title { font-size: 1.45rem;}
      .module-wrap, .how-to-use-wrap, .address-wrap, .bank-wrap { padding-left: 3vw; padding-right: 3vw;}
      .how-title, .address-title, .bank-title { font-size: .97rem;}
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <div class="header-bar">
    <div class="login-area" id="nav-user">
      <button class="nav-login-btn" id="google-login-btn">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="google-logo" alt="Google ile Giriş">
        <span>Google ile Giriş Yap</span>
      </button>
      <span id="profile-box" style="display:none;">
        <img src="" id="profile-img" class="nav-avatar" alt="Profil Fotoğrafı">
        <span class="nav-username" id="profile-name"></span>
        <button class="nav-logout" id="logout-btn">Çıkış Yap</button>
      </span>
    </div>
  </div>
  <!-- SITE TITLE -->
  <div class="site-header">
    <div class="site-title">Kıbrıs Online</div>
    <div class="main-nav">
      <button class="main-btn" id="btn-siparis-ver">Sipariş Ver</button>
      <button class="main-btn" id="btn-siparislerim">Siparişlerim</button>
      <button class="main-btn" id="btn-kargo-takip">Kargo Takip</button>
    </div>
  </div>
  <!-- SHIP HERO -->
  <div class="ship-hero-wrap">
    <img src="https://globelink-unimar.com/wp-content/uploads/2022/05/gemi-tasimaciligi-neden-tercih-edilmelidir.jpg"
         class="ship-img" alt="Yük Gemisi">
    <div class="slogan">Sizin için Türkiye'den Kıbrıs'a getiriyoruz</div>
  </div>
  <!-- CALCULATION MODULE -->
  <div class="module-wrap" id="hesaplama-modulu">
    <div class="module-title">Hesaplama Modülü</div>
    <div class="calc-row">
      <div class="calc-col" style="flex:2;">
        <label class="calc-label" for="product-link">Ürün Linki</label>
        <input type="url" id="product-link" class="calc-input" placeholder="Ürün bağlantısını giriniz">
      </div>
    </div>
    <div class="calc-row calc-row-double">
      <div class="calc-col">
        <label class="calc-label" for="product-price">Ürün Fiyatı (₺)</label>
        <input type="number" id="product-price" min="1" step="0.01" class="calc-input" placeholder="Fiyat">
      </div>
      <div class="calc-col">
        <label class="calc-label" for="product-category">Kategori</label>
        <select id="product-category" class="calc-select">
          <option value="">Seçiniz</option>
          <option value="mobilya">Mobilya</option>
          <option value="elektronik">Elektronik</option>
          <option value="giyim">Giyim</option>
          <option value="kirtasiye">Kırtasiye</option>
          <option value="kozmetik">Kozmetik</option>
        </select>
      </div>
    </div>
    <div class="calc-row calc-row-double">
      <div class="calc-col">
        <label class="calc-label" for="delivery-type">Teslimat Tipi</label>
        <select id="delivery-type" class="calc-select">
          <option value="">Seçiniz</option>
          <option value="ev">Eve Teslim</option>
          <option value="depo">Depodan Teslim</option>
        </select>
      </div>
      <div class="calc-col" id="city-group" style="display:none;">
        <label class="calc-label" for="city-select">Şehir</label>
        <select id="city-select" class="calc-select">
          <option value="">Şehir Seçiniz</option>
          <option value="lefkosa">Lefkoşa (200₺)</option>
          <option value="girne">Girne (350₺)</option>
          <option value="magusa">Mağusa (500₺)</option>
          <option value="guzelyurt">Güzelyurt (450₺)</option>
          <option value="lefke">Lefke (600₺)</option>
          <option value="iskele">İskele (550₺)</option>
          <option value="karpaz">Karpaz (700₺)</option>
        </select>
      </div>
    </div>
    <div>
      <button class="calc-action-btn" id="calc-btn">Hesapla</button>
      <div class="calc-result" id="calc-result"></div>
    </div>
  </div>
  <!-- SHOP LOGOS -->
  <div class="shop-logos">
    <a href="https://www.trendyol.com/" class="shop-logo-link" target="_blank" rel="noopener">
      <img src="https://cdn.logo.com/hotlink-ok/logo-social.png?logo=trendyol" alt="Trendyol" class="shop-logo">
    </a>
    <a href="https://www.hepsiburada.com/" class="shop-logo-link" target="_blank" rel="noopener">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Hepsiburada_logo.svg/512px-Hepsiburada_logo.svg.png" alt="Hepsiburada" class="shop-logo">
    </a>
    <a href="https://www.n11.com/" class="shop-logo-link" target="_blank" rel="noopener">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/N11_logo.svg/512px-N11_logo.svg.png" alt="N11" class="shop-logo">
    </a>
    <a href="https://www.amazon.com.tr/" class="shop-logo-link" target="_blank" rel="noopener">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="Amazon" class="shop-logo">
    </a>
    <a href="https://www.ciceksepeti.com/" class="shop-logo-link" target="_blank" rel="noopener">
      <img src="https://cdn.ciceksepeti.net/assets/images/newdesign/logos/ciceksepeti-logos/ciceksepeti-logo-2022.svg" alt="ÇiçekSepeti" class="shop-logo">
    </a>
  </div>
  <!-- HOW TO USE -->
  <div class="how-to-use-wrap">
    <div class="how-title">Sistemi Nasıl Kullanacaksınız?</div>
    <ul class="how-list">
      <li>Google ile hesabınıza giriş yapınız.</li>
      <li>Türkiye'deki alışveriş sitelerinden istediğiniz ürünü seçin.</li>
      <li>Ürün linki ve fiyat bilgisiyle hesaplama modülünden fiyatı hesaplayın.</li>
      <li>“Sipariş Ver” butonuna tıklayarak siparişinizi oluşturun.</li>
      <li>Türkiye’deki alışveriş sitelerinde aşağıdaki teslimat adresini kullanın.</li>
      <li>Ödemenizi aşağıdaki banka bilgilerimize yapınız.</li>
      <li>Tüm süreçleri “Siparişlerim” ve “Kargo Takip” bölümlerinden takip edebilirsiniz.</li>
    </ul>
  </div>
  <!-- DELIVERY ADDRESS -->
  <div class="address-wrap">
    <div class="address-title">Teslimat Adresiniz</div>
    <div class="address-box" id="address-copy">
      İsminiz Soyadınız<br>
      Kıbrıs Online - Sizin Adınız<br>
      Barbaros Mah. Yıldırım Beyazıt Cad. No: 99<br>
      PK: 34746 Ataşehir / İstanbul<br>
      Tel: 0 555 555 55 55
    </div>
    <div style="font-size:.93rem; color:#2563eb;">Bu adresi alışveriş yaptığınız sitelere teslimat adresi olarak ekleyin.</div>
  </div>
  <!-- BANK INFO -->
  <div class="bank-wrap">
    <div class="bank-title">Banka Bilgilerimiz</div>
    <div class="bank-box">
      <b>Banka:</b> Türkiye İş Bankası<br>
      <b>Hesap Sahibi:</b> Kıbrıs Online Lojistik Ltd.<br>
      <b>IBAN:</b> TR12 0006 4000 0001 2345 6789 01
    </div>
    <div style="font-size:.93rem; color:#2563eb;">Ödemenizi yaptıktan sonra dekontu sisteme yükleyebilirsiniz.</div>
  </div>
  <!-- FOOTER -->
  <div class="footer">
    © 2025 Kıbrıs Online Lojistik Ltd. | Tüm hakları saklıdır.<br>
    Site içeriği ve tasarımı Kıbrıs Online’a aittir. İzinsiz kullanılamaz.<br>
    KVKK ve Kişisel Verilerin Korunması kapsamında bilgileriniz güvendedir.
  </div>
  <!-- FIREBASE SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCHms5Y5x-KOu3Y43FrfRoljmW_4m3H4yY",
      authDomain: "kibris-6b4f7.firebaseapp.com",
      projectId: "kibris-6b4f7",
      storageBucket: "kibris-6b4f7.firebasestorage.app",
      messagingSenderId: "141262926171",
      appId: "1:141262926171:web:07226845e51d4bbc0dea7e",
      measurementId: "G-JL9P6BRZTD"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Auth UI
    const loginBtn = document.getElementById('google-login-btn');
    const profileBox = document.getElementById('profile-box');
    const profileImg = document.getElementById('profile-img');
    const profileName = document.getElementById('profile-name');
    const logoutBtn = document.getElementById('logout-btn');
    let currentUser = null;

    function showProfile(user) {
      if (!user) return;
      profileImg.src = user.photoURL || "";
      profileName.textContent = user.displayName || "";
      profileBox.style.display = 'inline-flex';
      loginBtn.style.display = 'none';
    }
    function hideProfile() {
      profileBox.style.display = 'none';
      loginBtn.style.display = 'flex';
    }
    loginBtn.onclick = function() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .catch(err => {
          alert("Giriş başarısız: " + (err.message || err));
        });
    };
    logoutBtn.onclick = function() {
      auth.signOut();
    };
    auth.onAuthStateChanged(function(user){
      currentUser = user;
      if(user){
        showProfile(user);
      }else{
        hideProfile();
      }
    });

    // NAV BAR BUTTONS
    function requireLogin(actionFn) {
      if (!currentUser) {
        alert("Lütfen giriş yapınız");
        return false;
      }
      if (typeof actionFn === "function") actionFn();
      return true;
    }
    document.getElementById('btn-siparis-ver').onclick = function() {
      requireLogin(() => {
        window.location.href = "siparisver.html";
      });
    };
    document.getElementById('btn-siparislerim').onclick = function() {
      requireLogin(() => {
        window.location.href = "siparislerim.html";
      });
    };
    document.getElementById('btn-kargo-takip').onclick = function() {
      requireLogin(() => {
        window.location.href = "kargotakip.html";
      });
    };

    // HESAPLAMA MODÜLÜ
    const categoryMultipliers = {
      mobilya: 1.7,
      elektronik: 1.7,
      giyim: 1.45,
      kirtasiye: 1.4,
      kozmetik: 1.7
    };
    const cityFees = {
      lefkosa: 200,
      girne: 350,
      magusa: 500,
      guzelyurt: 450,
      lefke: 600,
      iskele: 550,
      karpaz: 700
    };
    const deliveryType = document.getElementById('delivery-type');
    const cityGroup = document.getElementById('city-group');
    const citySelect = document.getElementById('city-select');
    const calcBtn = document.getElementById('calc-btn');
    const calcResult = document.getElementById('calc-result');
    let calcState = "hesapla";
    let lastCalculation = null;

    deliveryType.addEventListener('change', function() {
      if (deliveryType.value === "ev") {
        cityGroup.style.display = "flex";
      } else {
        citySelect.value = "";
        cityGroup.style.display = "none";
      }
    });

    function formatMoney(val) {
      return Number(val).toLocaleString("tr-TR", {minimumFractionDigits:2, maximumFractionDigits:2}) + " ₺";
    }

    calcBtn.addEventListener('click', function() {
      if (calcState === "hesapla") {
        const price = parseFloat(document.getElementById('product-price').value);
        const category = document.getElementById('product-category').value;
        const delivery = deliveryType.value;
        let city = citySelect.value;
        calcResult.textContent = "";
        if (isNaN(price) || price < 1) {
          calcResult.textContent = "Lütfen geçerli ürün fiyatı giriniz.";
          return;
        }
        if (!category || !categoryMultipliers[category]) {
          calcResult.textContent = "Lütfen kategori seçiniz.";
          return;
        }
        if (!delivery) {
          calcResult.textContent = "Lütfen teslimat tipi seçiniz.";
          return;
        }
        if (delivery === "ev" && (!city || !cityFees[city])) {
          calcResult.textContent = "Lütfen şehir seçiniz.";
          return;
        }
        let total = price * categoryMultipliers[category];
        if (delivery === "ev") total += cityFees[city];
        lastCalculation = total;
        calcResult.textContent = "Toplam Tutar: " + formatMoney(total);
        calcBtn.textContent = "Sipariş Ver";
        calcState = "siparisver";
      } else {
        if (!currentUser) {
          alert("Lütfen giriş yapınız");
          return;
        }
        window.location.href = "siparisver.html";
      }
    });

    ['product-link','product-price','product-category','delivery-type','city-select'].forEach(function(id){
      document.getElementById(id).addEventListener('input', function(){
        calcBtn.textContent = "Hesapla";
        calcState = "hesapla";
        calcResult.textContent = "";
      });
    });
  </script>
</body>
</html>
